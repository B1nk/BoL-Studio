--[[


 -- Incomparable Irelia
 -- 更多分享Q群:384232347
 -- by B1nk


--]]

assert(load(Base64Decode("bG9jYWwgdmVyc2lvbiA9ICIwLjciDQoNCmlmIG15SGVyby5jaGFyTmFtZSB+PSAiSXJlbGlhIiB0aGVuIHJldHVybiBlbmQNCg0KSFdJRCA9IEJhc2U2NEVuY29kZSh0b3N0cmluZyhvcy5nZXRlbnYoIlBST0NFU1NPUl9JREVOVElGSUVSIikuLm9zLmdldGVudigiVVNFUk5BTUUiKS4ub3MuZ2V0ZW52KCJDT01QVVRFUk5BTUUiKS4ub3MuZ2V0ZW52KCJQUk9DRVNTT1JfTEVWRUwiKS4ub3MuZ2V0ZW52KCJQUk9DRVNTT1JfUkVWSVNJT04iKSkpDQppZCA9IDQ0DQpTY3JpcHROYW1lID0gIkluY29tcGFyYWJsZUlyZWxpYSINCg0KYXNzZXJ0KGxvYWQoQmFzZTY0RGVjb2RlKCJHMHgxWVZJQUFRUUVCQWdBR1pNTkNob0tBQUFBQUFBQUFBQUFBUUlEQUFBQUpRQUFBQWdBQUlBZkFJQUFBUUFBQUFRS0FBQUFWWEJrWVhSbFYyVmlBQUVBQUFBQ0FBQUFEQUFBQUFRQUVUVUFBQUFHQVVBQVFVRUFBQjJCQUFGR2dVQUFoOEZBQXAwQmdBQmRnUUFBakFIQkFnRkNBUUJCZ2dFQW5VRUFBaHNBQUFBWHdBT0FqTUhCQWdFQ0FnQkFBZ0FCZ1VJQ0FNQUNnQUVCZ3dJQVJzTkNBRWNEd3dhQUE0QUF3VU1EQUFHRUF3QmRnd0FDZ2NNREFCYUNBd1NkUVlBQkY0QURnSXpCd1FJQkFnUUFRQUlBQVlGQ0FnREFBb0FCQVlNQ0FFYkRRZ0JIQThNR2dBT0FBTUZEQXdBQmhBTUFYWU1BQW9IREF3QVdnZ01FblVHQUFZd0J4UUlCUWdVQW5RR0JBUWdBZ29rSXdBR0pDSUNCaUl5QnhRS2RRUUFCSHdDQUFCY0FBQUFFQ0FBQUFISmxjWFZwY21VQUJBY0FBQUJ6YjJOclpYUUFCQWNBQUFCaGMzTmxjblFBQkFRQUFBQjBZM0FBQkFnQUFBQmpiMjV1WldOMEFBUVFBQUFBWW05c0xYUnlZV05yWlhJdVkyOXRBQU1BQUFBQUFBQlVRQVFGQUFBQWMyVnVaQUFFR0FBQUFFZEZWQ0F2Y21WemRDOXVaWGR3YkdGNVpYSS9hV1E5QUFRSEFBQUFKbWgzYVdROUFBUU5BQUFBSm5OamNtbHdkRTVoYldVOUFBUUhBQUFBYzNSeWFXNW5BQVFGQUFBQVozTjFZZ0FFRFFBQUFGdGVNQzA1UVMxYVlTMTZYUUFFQVFBQUFBQUVKUUFBQUNCSVZGUlFMekV1TUEwS1NHOXpkRG9nWW05c0xYUnlZV05yWlhJdVkyOXREUW9OQ2dBRUd3QUFBRWRGVkNBdmNtVnpkQzlrWld4bGRHVndiR0Y1WlhJL2FXUTlBQVFDQUFBQWN3QUVCd0FBQUhOMFlYUjFjd0FFQ0FBQUFIQmhjblJwWVd3QUJBZ0FBQUJ5WldObGFYWmxBQVFEQUFBQUttRUFCQVlBQUFCamJHOXpaUUFBQUFBQUFRQUFBQUFBRUFBQUFFQnZZbVoxYzJOaGRHVmtMbXgxWVFBMUFBQUFBZ0FBQUFJQUFBQUNBQUFBQWdBQUFBSUFBQUFDQUFBQUFnQUFBQU1BQUFBREFBQUFBd0FBQUFNQUFBQUVBQUFBQkFBQUFBVUFBQUFGQUFBQUJRQUFBQVlBQUFBR0FBQUFCd0FBQUFjQUFBQUhBQUFBQndBQUFBY0FBQUFIQUFBQUJ3QUFBQWdBQUFBSEFBQUFCUUFBQUFnQUFBQUpBQUFBQ1FBQUFBa0FBQUFLQUFBQUNnQUFBQXNBQUFBTEFBQUFDd0FBQUFzQUFBQUxBQUFBQ3dBQUFBc0FBQUFNQUFBQUN3QUFBQWtBQUFBTUFBQUFEQUFBQUF3QUFBQU1BQUFBREFBQUFBd0FBQUFNQUFBQURBQUFBQXdBQUFBR0FBQUFBZ0FBQUdFQUFBQUFBRFVBQUFBQ0FBQUFZZ0FBQUFBQU5RQUFBQUlBQUFCakFBQUFBQUExQUFBQUFnQUFBR1FBQUFBQUFEVUFBQUFEQUFBQVgyRUFBd0FBQURVQUFBQURBQUFBWVdFQUJ3QUFBRFVBQUFBQkFBQUFCUUFBQUY5RlRsWUFBUUFBQUFFQUVBQUFBRUJ2WW1aMWMyTmhkR1ZrTG14MVlRQURBQUFBREFBQUFBSUFBQUFNQUFBQUFBQUFBQUVBQUFBRkFBQUFYMFZPVmdBPSIpLCBuaWwsICJidCIsIF9FTlYpKSgpDQoNCl9HLlVzZVVwZGF0ZXIgPSBmYWxzZQ0KDQpsb2NhbCBSRVFVSVJFRF9MSUJTID0gew0KCVsiU09XIl0gPSAiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0hlbGxzaW5nL0JvTC9tYXN0ZXIvY29tbW9uL1NPVy5sdWEiLA0KCVsiVlByZWRpY3Rpb24iXSA9ICJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vSGVsbHNpbmcvQm9ML21hc3Rlci9jb21tb24vVlByZWRpY3Rpb24ubHVhIg0KfQ0KDQpsb2NhbCBET1dOTE9BRElOR19MSUJTLCBET1dOTE9BRF9DT1VOVCA9IGZhbHNlLCAwDQoNCmZ1bmN0aW9uIEFmdGVyRG93bmxvYWQoKQ0KCURPV05MT0FEX0NPVU5UID0gRE9XTkxPQURfQ09VTlQgLSAxDQoJaWYgRE9XTkxPQURfQ09VTlQgPT0gMCB0aGVuDQoJCURPV05MT0FESU5HX0xJQlMgPSBmYWxzZQ0KCQlwcmludCgiPGI+PGZvbnQgY29sb3I9XCIjNjY5OUZGXCI+SW5jb21wYXJhYmxlIElyZWxpYTo8L2ZvbnQ+PC9iPiA8Zm9udCBjb2xvcj1cIiNGRkZGRkZcIj5SZXF1aXJlZCBsaWJyYXJpZXMgZG93bmxvYWRlZCBzdWNjZXNzZnVsbHksIHBsZWFzZSByZWxvYWQgKGRvdWJsZSBGOSkuPC9mb250PiIpDQoJZW5kDQplbmQNCg0KZm9yIERPV05MT0FEX0xJQl9OQU1FLCBET1dOTE9BRF9MSUJfVVJMIGluIHBhaXJzKFJFUVVJUkVEX0xJQlMpIGRvDQoJaWYgRmlsZUV4aXN0KExJQl9QQVRIIC4uIERPV05MT0FEX0xJQl9OQU1FIC4uICIubHVhIikgdGhlbg0KCQlyZXF1aXJlKERPV05MT0FEX0xJQl9OQU1FKQ0KCWVsc2UNCgkJRE9XTkxPQURJTkdfTElCUyA9IHRydWUNCgkJRE9XTkxPQURfQ09VTlQgPSBET1dOTE9BRF9DT1VOVCArIDENCgkJRG93bmxvYWRGaWxlKERPV05MT0FEX0xJQl9VUkwsIExJQl9QQVRIIC4uIERPV05MT0FEX0xJQl9OQU1FLi4iLmx1YSIsIEFmdGVyRG93bmxvYWQpDQoJZW5kDQplbmQNCg0KaWYgRE9XTkxPQURJTkdfTElCUyB0aGVuIHJldHVybiBlbmQNCg0KbG9jYWwgVVBEQVRFX05BTUUgPSAiSW5jb21wYXJhYmxlIElyZWxpYSINCmxvY2FsIFVQREFURV9IT1NUID0gInJhdy5naXRodWIuY29tIg0KbG9jYWwgVVBEQVRFX1BBVEggPSAiL0IxbmsvQm9sLVN0dWRpby9tYXN0ZXIvSW5jb21wYXJhYmxlJTIwSXJlbGlhLmx1YSINCmxvY2FsIFVQREFURV9GSUxFX1BBVEggPSBTQ1JJUFRfUEFUSC4uVVBEQVRFX05BTUUuLiIubHVhIg0KbG9jYWwgVVBEQVRFX1VSTCA9ICJodHRwczovLyIuLlVQREFURV9IT1NULi5VUERBVEVfUEFUSA0KDQpmdW5jdGlvbiBBdXRvdXBkYXRlck1zZyhtc2cpIHByaW50KCI8Yj48Zm9udCBjb2xvcj1cIiM2Njk5RkZcIj4iLi5VUERBVEVfTkFNRS4uIjo8L2ZvbnQ+PC9iPiA8Zm9udCBjb2xvcj1cIiNGRkZGRkZcIj4iLi5tc2cuLiIuPC9mb250PiIpIGVuZA0KaWYgX0cuVXNlVXBkYXRlciB0aGVuDQoJbG9jYWwgU2VydmVyRGF0YSA9IEdldFdlYlJlc3VsdChVUERBVEVfSE9TVCwgVVBEQVRFX1BBVEgpDQoJaWYgU2VydmVyRGF0YSB0aGVuDQoJCWxvY2FsIFNlcnZlclZlcnNpb24gPSBzdHJpbmcubWF0Y2goU2VydmVyRGF0YSwgImxvY2FsIHZlcnNpb24gPSBcIiVkKy4lZCtcIiIpDQoJCVNlcnZlclZlcnNpb24gPSBzdHJpbmcubWF0Y2goU2VydmVyVmVyc2lvbiBhbmQgU2VydmVyVmVyc2lvbiBvciAiIiwgIiVkKy4lZCsiKQ0KCQlpZiBTZXJ2ZXJWZXJzaW9uIHRoZW4NCgkJCVNlcnZlclZlcnNpb24gPSB0b251bWJlcihTZXJ2ZXJWZXJzaW9uKQ0KCQkJaWYgdG9udW1iZXIodmVyc2lvbikgPCBTZXJ2ZXJWZXJzaW9uIHRoZW4NCgkJCQlBdXRvdXBkYXRlck1zZygiTmV3IHZlcnNpb24gYXZhaWxhYmxlIi4uU2VydmVyVmVyc2lvbikNCgkJCQlBdXRvdXBkYXRlck1zZygiVXBkYXRpbmcsIHBsZWFzZSBkb24ndCBwcmVzcyBGOSIpDQoJCQkJRG93bmxvYWRGaWxlKFVQREFURV9VUkwsIFVQREFURV9GSUxFX1BBVEgsIGZ1bmN0aW9uICgpIEF1dG91cGRhdGVyTXNnKCJTdWNjZXNzZnVsbHkgdXBkYXRlZC4gKCIuLnZlcnNpb24uLiIgPT4gIi4uU2VydmVyVmVyc2lvbi4uIiksIHByZXNzIEY5IHR3aWNlIHRvIGxvYWQgdGhlIHVwZGF0ZWQgdmVyc2lvbi4iKSBlbmQpCSANCgkJCWVsc2UNCgkJCQlBdXRvdXBkYXRlck1zZygiWW91IGhhdmUgZ290IHRoZSBsYXRlc3QgdmVyc2lvbiAoIi4uU2VydmVyVmVyc2lvbi4uIikiKQ0KCQkJZW5kDQoJCWVuZA0KCWVsc2UNCgkJQXV0b3VwZGF0ZXJNc2coIkVycm9yIGRvd25sb2FkaW5nIHZlcnNpb24gaW5mbyIpDQoJZW5kDQplbmQNCg0KZnVuY3Rpb24gT25Mb2FkKCkNCglwcmludCgiPGI+PGZvbnQgY29sb3I9XCIjOUYzNUZGXCI+KCBJbmNvbXBhcmFibGUgSXJlbGlhICk8L2ZvbnQ+PC9iPiA8Zm9udCBjb2xvcj1cIiNGRkZGRkZcIj5sb2FkZWQhPC9mb250PiIpDQoJVXBkYXRlV2ViKHRydWUsIFNjcmlwdE5hbWUsIGlkLCBIV0lEKQ0KCVZhcmlhYmxlcygpDQoJTWVudSgpDQoJUHJpb3JpdHlPbkxvYWQoKQ0KZW5kDQoNCmZ1bmN0aW9uIE9uQnVnc3BsYXQoKQ0KCVVwZGF0ZVdlYihmYWxzZSwgU2NyaXB0TmFtZSwgaWQsIEhXSUQpDQplbmQNCg0KZnVuY3Rpb24gT25VbmxvYWQoKQ0KCVVwZGF0ZVdlYihmYWxzZSwgU2NyaXB0TmFtZSwgaWQsIEhXSUQpDQplbmQNCg0KZnVuY3Rpb24gT25UaWNrKCkNCglDb21ib0tleSA9IFNldHRpbmdzLmNvbWJvLmNvbWJvS2V5DQoJSGFyYXNzS2V5ID0gU2V0dGluZ3MuaGFyYXNzLmhhcmFzc0tleQ0KCUp1bmdsZUNsZWFyS2V5ID0gU2V0dGluZ3MuanVuZ2xlLmp1bmdsZUtleQ0KCUxhbmVDbGVhcktleSA9IFNldHRpbmdzLmxhbmUubGFuZUtleQ0KCQ0KCWlmIENvbWJvS2V5IHRoZW4NCgkJQ29tYm8oVGFyZ2V0KQ0KCWVuZA0KCQ0KCWlmIEhhcmFzc0tleSB0aGVuDQoJCUhhcmFzcyhUYXJnZXQpDQoJZW5kDQoJDQoJaWYgSnVuZ2xlQ2xlYXJLZXkgdGhlbg0KCQlKdW5nbGVDbGVhcigpDQoJZW5kDQoJDQoJaWYgTGFuZUNsZWFyS2V5IHRoZW4NCgkJTGFuZUNsZWFyKCkNCgllbmQNCgkNCglpZiBTZXR0aW5ncy5rcy5raWxsU3RlYWwgdGhlbg0KCQlLaWxsU3RlYWwoKQ0KCWVuZA0KDQoJQ2hlY2tzKCkNCmVuZA0KDQoNCmZ1bmN0aW9uIE9uRHJhdygpDQoJaWYgbm90IG15SGVyby5kZWFkIGFuZCBub3QgU2V0dGluZ3MuZHJhd2luZy5tRHJhdyB0aGVuDQoJCWlmIFNraWxsUS5yZWFkeSBhbmQgU2V0dGluZ3MuZHJhd2luZy5xRHJhdyB0aGVuIA0KCQkJRHJhd0NpcmNsZShteUhlcm8ueCwgbXlIZXJvLnksIG15SGVyby56LCBTa2lsbFEucmFuZ2UsIFJHQihTZXR0aW5ncy5kcmF3aW5nLnFDb2xvclsyXSwgU2V0dGluZ3MuZHJhd2luZy5xQ29sb3JbM10sIFNldHRpbmdzLmRyYXdpbmcucUNvbG9yWzRdKSkNCgkJZW5kDQoJCWlmIFNraWxsRS5yZWFkeSBhbmQgU2V0dGluZ3MuZHJhd2luZy5lRHJhdyB0aGVuIA0KCQkJRHJhd0NpcmNsZShteUhlcm8ueCwgbXlIZXJvLnksIG15SGVyby56LCBTa2lsbEUucmFuZ2UsIFJHQihTZXR0aW5ncy5kcmF3aW5nLmVDb2xvclsyXSwgU2V0dGluZ3MuZHJhd2luZy5lQ29sb3JbM10sIFNldHRpbmdzLmRyYXdpbmcuZUNvbG9yWzRdKSkNCgkJZW5kDQoJCWlmIFNraWxsRS5yZWFkeSBhbmQgU2V0dGluZ3MuZHJhd2luZy5yRHJhdyB0aGVuIA0KCQkJRHJhd0NpcmNsZShteUhlcm8ueCwgbXlIZXJvLnksIG15SGVyby56LCBTa2lsbFIucmFuZ2UsIFJHQihTZXR0aW5ncy5kcmF3aW5nLnJDb2xvclsyXSwgU2V0dGluZ3MuZHJhd2luZy5yQ29sb3JbM10sIFNldHRpbmdzLmRyYXdpbmcuckNvbG9yWzRdKSkNCgkJZW5kDQoJCQ0KCQlpZiBTZXR0aW5ncy5kcmF3aW5nLlRhcmdldCBhbmQgVGFyZ2V0IH49IG5pbCB0aGVuDQoJCQlEcmF3Q2lyY2xlKFRhcmdldC54LCBUYXJnZXQueSwgVGFyZ2V0LnosIDcwLCAweENFMDBGRikNCgkJZW5kDQoJCQ0KCQlpZiBTZXR0aW5ncy5kcmF3aW5nLm15SGVybyB0aGVuDQoJCQlEcmF3Q2lyY2xlKG15SGVyby54LCBteUhlcm8ueSwgbXlIZXJvLnosIFRydWVSYW5nZSgpLCBSR0IoU2V0dGluZ3MuZHJhd2luZy5teUNvbG9yWzJdLCBTZXR0aW5ncy5kcmF3aW5nLm15Q29sb3JbM10sIFNldHRpbmdzLmRyYXdpbmcubXlDb2xvcls0XSkpDQoJCWVuZA0KCWVuZA0KZW5kDQoNCmZ1bmN0aW9uIENvbWJvKHVuaXQpDQoJaWYgVmFsaWRUYXJnZXQodW5pdCkgYW5kIHVuaXQgfj0gbmlsIGFuZCB1bml0LnR5cGUgPT0gbXlIZXJvLnR5cGUgdGhlbg0KCQlpZiBTZXR0aW5ncy5jb21iby5jb21ib0l0ZW1zIHRoZW4NCgkJCVVzZUl0ZW1zKHVuaXQpDQoJCWVuZA0KCQkNCgkJQ2FzdFEodW5pdCkNCgkJQ2FzdFcodW5pdCkNCgkJQ2FzdEUodW5pdCkNCgkJaWYgU2V0dGluZ3MuY29tYm8udXNlUiB0aGVuIENhc3RSKHVuaXQpIGVuZA0KCWVuZA0KZW5kDQoNCmZ1bmN0aW9uIEhhcmFzcyh1bml0KQ0KCWlmIFZhbGlkVGFyZ2V0KHVuaXQpIGFuZCB1bml0IH49IG5pbCBhbmQgdW5pdC50eXBlID09IG15SGVyby50eXBlIGFuZCBub3QgSXNNeU1hbmFMb3coKSB0aGVuDQoJCWlmIFNldHRpbmdzLmhhcmFzcy51c2VRIHRoZW4gQ2FzdFEodW5pdCkgZW5kDQoJCWlmIFNldHRpbmdzLmhhcmFzcy51c2VXIHRoZW4gQ2FzdFcodW5pdCkgZW5kDQoJZW5kDQplbmQNCg0KZnVuY3Rpb24gTGFuZUNsZWFyKCkNCgllbmVteU1pbmlvbnM6dXBkYXRlKCkNCglpZiBMYW5lQ2xlYXJLZXkgYW5kIG5vdCBJc015TWFuYUxvdygiQ2xlYW4iKSB0aGVuDQoJCWZvciBpLCBtaW5pb24gaW4gcGFpcnMoZW5lbXlNaW5pb25zLm9iamVjdHMpIGRvDQoJCQlpZiBWYWxpZFRhcmdldChtaW5pb24pIGFuZCBtaW5pb24gfj0gbmlsIHRoZW4NCgkJCQlxRG1nID0gZ2V0RG1nKCJRIiwgbWluaW9uLCBteUhlcm8pICsgZ2V0RG1nKCJBRCIsIG1pbmlvbiwgbXlIZXJvKQ0KDQoJCQkJaWYgU2V0dGluZ3MubGFuZS5sYW5lUSBhbmQgR2V0RGlzdGFuY2UobWluaW9uKSA8PSBTa2lsbFEucmFuZ2UgYW5kIG1pbmlvbi5oZWFsdGggPD0gcURtZyB0aGVuIA0KCQkJCQlpZiBWSVBfVVNFUiBhbmQgU2V0dGluZ3MubWlzYy5wYWNrZXRzIHRoZW4gUGFja2V0KCJTX0NBU1QiLCB7c3BlbGxJZCA9IF9RLCB0YXJnZXROZXR3b3JrSWQgPSBtaW5pb24ubmV0d29ya0lEfSk6c2VuZCgpIGVuZA0KCQkJCQlDYXN0U3BlbGwoX1EsIG1pbmlvbikgDQoJCQkJZW5kDQoJCQkJaWYgU2V0dGluZ3MubGFuZS5sYW5lUiBhbmQgR2V0RGlzdGFuY2UobWluaW9uKSA8PSBTa2lsbFIucmFuZ2UgdGhlbiANCgkJCQkJbG9jYWwgQmVzdFBvcywgQmVzdEhpdCA9IEdldEJlc3RMaW5lRmFybVBvc2l0aW9uKFNraWxsUi5yYW5nZSwgU2tpbGxSLndpZHRoLCBlbmVteU1pbmlvbnMub2JqZWN0cykNCg0KCQkJCQlpZiBCZXN0UG9zIH49IG5pbCB0aGVuDQoJCQkJCQlpZiBWSVBfVVNFUiBhbmQgU2V0dGluZ3MubWlzYy5wYWNrZXRzIHRoZW4gUGFja2V0KCJTX0NBU1QiLCB7IHNwZWxsSWQgPSBfUiwgdG9YID0gQmVzdFBvcy54LCB0b1kgPSBCZXN0UG9zLnosIGZyb21YID0gQmVzdFBvcy54LCBmcm9tWSA9IEJlc3RQb3MueiB9KTpzZW5kKCkgZW5kDQoJCQkJCQlDYXN0U3BlbGwoX1IsIEJlc3RQb3MueCwgQmVzdFBvcy56KQ0KCQkJCQllbmQNCgkJCQllbmQNCgkJCWVuZAkJIA0KCQllbmQNCgllbmQNCmVuZA0KDQpmdW5jdGlvbiBKdW5nbGVDbGVhcigpDQoJaWYgSnVuZ2xlQ2xlYXJLZXkgdGhlbg0KCQlsb2NhbCBKdW5nbGVNb2IgPSBHZXRKdW5nbGVNb2IoKQ0KCQkNCgkJaWYgSnVuZ2xlTW9iIH49IG5pbCB0aGVuDQoJCQlxRG1nID0gZ2V0RG1nKCJRIiwgSnVuZ2xlTW9iLCBteUhlcm8pICsgZ2V0RG1nKCJBRCIsIEp1bmdsZU1vYiwgbXlIZXJvKQ0KDQoJCQlpZiBTZXR0aW5ncy5qdW5nbGUuanVuZ2xlUSBhbmQgR2V0RGlzdGFuY2UoSnVuZ2xlTW9iKSA8PSBTa2lsbFEucmFuZ2UgYW5kIFNraWxsUS5yZWFkeSB0aGVuDQoJCQkJaWYgVklQX1VTRVIgYW5kIFNldHRpbmdzLm1pc2MucGFja2V0cyB0aGVuIFBhY2tldCgiU19DQVNUIiwge3NwZWxsSWQgPSBfUSwgdGFyZ2V0TmV0d29ya0lkID0gSnVuZ2xlTW9iLm5ldHdvcmtJRH0pOnNlbmQoKSBlbmQNCgkJCQlDYXN0U3BlbGwoX1EsIEp1bmdsZU1vYikNCgkJCWVuZA0KCQkJaWYgU2V0dGluZ3MuanVuZ2xlLmp1bmdsZUUgYW5kIEdldERpc3RhbmNlKEp1bmdsZU1vYikgPD0gU2tpbGxFLnJhbmdlIGFuZCBTa2lsbEUucmVhZHkgdGhlbg0KCQkJCWlmIFZJUF9VU0VSIGFuZCBTZXR0aW5ncy5taXNjLnBhY2tldHMgdGhlbiBQYWNrZXQoIlNfQ0FTVCIsIHtzcGVsbElkID0gX1EsIHRhcmdldE5ldHdvcmtJZCA9IEp1bmdsZU1vYi5uZXR3b3JrSUR9KTpzZW5kKCkgZW5kDQoJCQkJQ2FzdFNwZWxsKF9FLCBKdW5nbGVNb2IpDQoJCQllbmQNCgkJCWlmIFNldHRpbmdzLmp1bmdsZS5qdW5nbGVXIGFuZCBHZXREaXN0YW5jZShKdW5nbGVNb2IpIDw9IFNraWxsVy5yYW5nZSBhbmQgU2tpbGxXLnJlYWR5IHRoZW4NCgkJCQlpZiBWSVBfVVNFUiBhbmQgU2V0dGluZ3MubWlzYy5wYWNrZXRzIHRoZW4gUGFja2V0KCJTX0NBU1QiLCB7c3BlbGxJZCA9IF9XfSk6c2VuZCgpIGVuZA0KCQkJCUNhc3RTcGVsbChfVykNCgkJCWVuZA0KCQllbmQNCgllbmQNCmVuZA0KDQpmdW5jdGlvbiBDYXN0USh1bml0KQ0KCWlmIFNraWxsUS5yZWFkeSBhbmQgR2V0RGlzdGFuY2UodW5pdCkgPD0gU2tpbGxRLnJhbmdlIGFuZCBHZXREaXN0YW5jZSh1bml0KSA+IFRydWVSYW5nZSgpIHRoZW4NCgkJaWYgVklQX1VTRVIgYW5kIFNldHRpbmdzLm1pc2MucGFja2V0cyB0aGVuIFBhY2tldCgiU19DQVNUIiwge3NwZWxsSWQgPSBfUSwgdGFyZ2V0TmV0d29ya0lkID0gdW5pdC5uZXR3b3JrSUR9KTpzZW5kKCkgZW5kDQoJCUNhc3RTcGVsbChfUSwgdW5pdCkNCgllbmQNCmVuZA0KDQpmdW5jdGlvbiBDYXN0UTIodW5pdCkNCglpZiBTa2lsbFEucmVhZHkgYW5kIEdldERpc3RhbmNlKHVuaXQpIDw9IFNraWxsUS5yYW5nZSB0aGVuDQoJCWlmIFZJUF9VU0VSIGFuZCBTZXR0aW5ncy5taXNjLnBhY2tldHMgdGhlbiBQYWNrZXQoIlNfQ0FTVCIsIHtzcGVsbElkID0gX1EsIHRhcmdldE5ldHdvcmtJZCA9IHVuaXQubmV0d29ya0lEfSk6c2VuZCgpIGVuZA0KCQlDYXN0U3BlbGwoX1EsIHVuaXQpDQoJZW5kDQplbmQNCg0KZnVuY3Rpb24gQ2FzdFcodW5pdCkNCglpZiBTa2lsbFcucmVhZHkgYW5kIEdldERpc3RhbmNlKHVuaXQpIDw9IFNraWxsVy5yYW5nZSB0aGVuDQoJCWlmIFZJUF9VU0VSIGFuZCBTZXR0aW5ncy5taXNjLnBhY2tldHMgdGhlbiBQYWNrZXQoIlNfQ0FTVCIsIHtzcGVsbElkID0gX1d9KTpzZW5kKCkgZW5kDQoJCUNhc3RTcGVsbChfVykNCgllbmQNCmVuZA0KDQpmdW5jdGlvbiBDYXN0RSh1bml0KQ0KCWlmIFNldHRpbmdzLmNvbWJvLnVzZUUgPT0gMSB0aGVuIHJldHVybiBlbmQNCgkNCglpZiB1bml0IH49IG5pbCBhbmQgR2V0RGlzdGFuY2UodW5pdCkgPD0gU2tpbGxFLnJhbmdlIGFuZCBTa2lsbEUucmVhZHkgdGhlbg0KCQlpZiBTZXR0aW5ncy5jb21iby51c2VFID09IDIgdGhlbg0KCQkJaWYgKG15SGVyby5oZWFsdGggLyBteUhlcm8ubWF4SGVhbHRoKSA8ICh1bml0LmhlYWx0aCAvIHVuaXQubWF4SGVhbHRoKSB0aGVuDQoJCQkJaWYgVklQX1VTRVIgYW5kIFNldHRpbmdzLm1pc2MucGFja2V0cyB0aGVuIFBhY2tldCgiU19DQVNUIiwge3NwZWxsSWQgPSBfRSwgdGFyZ2V0TmV0d29ya0lkID0gdW5pdC5uZXR3b3JrSUR9KTpzZW5kKCkgZW5kDQoJCQkJQ2FzdFNwZWxsKF9FLCB1bml0KQ0KCQkJZW5kDQoJCWVsc2VpZiBTZXR0aW5ncy5jb21iby51c2VFID09IDMgdGhlbg0KCQkJaWYgVklQX1VTRVIgYW5kIFNldHRpbmdzLm1pc2MucGFja2V0cyB0aGVuIFBhY2tldCgiU19DQVNUIiwge3NwZWxsSWQgPSBfRSwgdGFyZ2V0TmV0d29ya0lkID0gdW5pdC5uZXR3b3JrSUR9KTpzZW5kKCkgZW5kDQoJCQlDYXN0U3BlbGwoX0UsIHVuaXQpDQoJCWVuZA0KCWVuZA0KZW5kDQoNCmZ1bmN0aW9uIENhc3RSKHVuaXQpCQ0KCWlmIHVuaXQgfj0gbmlsIGFuZCBHZXREaXN0YW5jZSh1bml0KSA8PSBTa2lsbFIucmFuZ2UgYW5kIFNraWxsUi5yZWFkeSB0aGVuDQoJCUNhc3RQb3NpdGlvbiwgIEhpdENoYW5jZSwgIFBvc2l0aW9uID0gVlA6R2V0TGluZUNhc3RQb3NpdGlvbih1bml0LCBTa2lsbFIuZGVsYXksIFNraWxsUi53aWR0aCwgU2tpbGxSLnJhbmdlLCBTa2lsbFIuc3BlZWQsIG15SGVybykNCgkJCQkNCgkJaWYgSGl0Q2hhbmNlID49IDIgdGhlbg0KCQkJaWYgVklQX1VTRVIgYW5kIFNldHRpbmdzLm1pc2MucGFja2V0cyB0aGVuIFBhY2tldCgiU19DQVNUIiwgeyBzcGVsbElkID0gX1IsIHRvWCA9IENhc3RQb3NpdGlvbi54LCB0b1kgPSBDYXN0UG9zaXRpb24ueiwgZnJvbVggPSBDYXN0UG9zaXRpb24ueCwgZnJvbVkgPSBDYXN0UG9zaXRpb24ueiB9KTpzZW5kKCkgZW5kDQoJCQlDYXN0U3BlbGwoX1IsIENhc3RQb3NpdGlvbi54LCBDYXN0UG9zaXRpb24ueikNCgkJZW5kDQoJZW5kDQplbmQNCg0KZnVuY3Rpb24gS2lsbFN0ZWFsKCkNCglmb3IgXywgZW5lbXkgaW4gaXBhaXJzKEdldEVuZW15SGVyb2VzKCkpIGRvDQoJCXFEbWcgPSBnZXREbWcoIlEiLCBlbmVteSwgbXlIZXJvKSArIGdldERtZygiQUQiLCBlbmVteSwgbXlIZXJvKQ0KCQllRG1nID0gZ2V0RG1nKCJFIiwgZW5lbXksIG15SGVybykNCgkJDQoJCWlmIFZhbGlkVGFyZ2V0KGVuZW15KSBhbmQgZW5lbXkudmlzaWJsZSB0aGVuDQoJCQlpZiBlbmVteS5oZWFsdGggPD0gcURtZyBhbmQgR2V0RGlzdGFuY2UoZW5lbXkpIDw9IFNraWxsUS5yYW5nZSB0aGVuDQoJCQkJQ2FzdFEyKGVuZW15KQ0KCQkJZWxzZWlmIGVuZW15LmhlYWx0aCA8PSBxRG1nICsgZURtZyBhbmQgU2tpbGxRLnJlYWR5IGFuZCBTa2lsbEUucmVhZHkgYW5kIEdldERpc3RhbmNlKGVuZW15KSA8PSBTa2lsbEUucmFuZ2UgYW5kIEdldERpc3RhbmNlKGVuZW15KSA8PSBTa2lsbFEucmFuZ2UgdGhlbg0KCQkJCUNhc3RRMihlbmVteSkNCgkJCQlpZiBWSVBfVVNFUiBhbmQgU2V0dGluZ3MubWlzYy5wYWNrZXRzIHRoZW4gUGFja2V0KCJTX0NBU1QiLCB7c3BlbGxJZCA9IF9FLCB0YXJnZXROZXR3b3JrSWQgPSBlbmVteS5uZXR3b3JrSUR9KTpzZW5kKCkgZW5kDQoJCQkJQ2FzdFNwZWxsKF9FLCBlbmVteSkNCgkJCWVsc2VpZiBlbmVteS5oZWFsdGggPD0gZURtZyBhbmQgU2tpbGxFLnJlYWR5IGFuZCBHZXREaXN0YW5jZShlbmVteSkgPD0gU2tpbGxFLnJhbmdlIHRoZW4NCgkJCQlpZiBWSVBfVVNFUiBhbmQgU2V0dGluZ3MubWlzYy5wYWNrZXRzIHRoZW4gUGFja2V0KCJTX0NBU1QiLCB7c3BlbGxJZCA9IF9FLCB0YXJnZXROZXR3b3JrSWQgPSBlbmVteS5uZXR3b3JrSUR9KTpzZW5kKCkgZW5kDQoJCQkJQ2FzdFNwZWxsKF9FLCBlbmVteSkNCgkJCWVuZA0KDQoJCQlpZiBTZXR0aW5ncy5rcy5hdXRvSWduaXRlIHRoZW4NCgkJCQlBdXRvSWduaXRlKGVuZW15KQ0KCQkJZW5kDQoJCWVuZA0KCWVuZA0KZW5kDQoNCmZ1bmN0aW9uIEF1dG9JZ25pdGUodW5pdCkNCglpZiBWYWxpZFRhcmdldCh1bml0LCBJZ25pdGUucmFuZ2UpIGFuZCB1bml0LmhlYWx0aCA8PSA1MCArICgyMCAqIG15SGVyby5sZXZlbCkgdGhlbg0KCQlpZiBJZ25pdGUucmVhZHkgdGhlbg0KCQkJQ2FzdFNwZWxsKElnbml0ZS5zbG90LCB1bml0KQ0KCQllbmQNCgllbmQNCmVuZA0KDQpmdW5jdGlvbiBDaGVja3MoKQ0KCVNraWxsUS5yZWFkeSA9IChteUhlcm86Q2FuVXNlU3BlbGwoX1EpID09IFJFQURZKQ0KCVNraWxsVy5yZWFkeSA9IChteUhlcm86Q2FuVXNlU3BlbGwoX1cpID09IFJFQURZKQ0KCVNraWxsRS5yZWFkeSA9IChteUhlcm86Q2FuVXNlU3BlbGwoX0UpID09IFJFQURZKQ0KCVNraWxsUi5yZWFkeSA9IChteUhlcm86Q2FuVXNlU3BlbGwoX1IpID09IFJFQURZKQ0KCQ0KCWlmIG15SGVybzpHZXRTcGVsbERhdGEoU1VNTU9ORVJfMSkubmFtZTpmaW5kKElnbml0ZS5uYW1lKSB0aGVuDQoJCUlnbml0ZS5zbG90ID0gU1VNTU9ORVJfMQ0KCWVsc2VpZiBteUhlcm86R2V0U3BlbGxEYXRhKFNVTU1PTkVSXzIpLm5hbWU6ZmluZChJZ25pdGUubmFtZSkgdGhlbg0KCQlJZ25pdGUuc2xvdCA9IFNVTU1PTkVSXzINCgllbmQNCgkNCglJZ25pdGUucmVhZHkgPSAoSWduaXRlLnNsb3Qgfj0gbmlsIGFuZCBteUhlcm86Q2FuVXNlU3BlbGwoSWduaXRlLnNsb3QpID09IFJFQURZKQ0KCQ0KCVRhcmdldFNlbGVjdG9yOnVwZGF0ZSgpDQoJVGFyZ2V0ID0gR2V0Q3VzdG9tVGFyZ2V0KCkNCglTT1dpOkZvcmNlVGFyZ2V0KFRhcmdldCkNCgkNCglpZiBWSVBfVVNFUiBhbmQgU2V0dGluZ3MubWlzYy5za2luTGlzdCB0aGVuIENob29zZVNraW4oKSBlbmQNCglpZiBTZXR0aW5ncy5kcmF3aW5nLmxmYy5sZmMgdGhlbiBfRy5EcmF3Q2lyY2xlID0gRHJhd0NpcmNsZTIgZWxzZSBfRy5EcmF3Q2lyY2xlID0gX0cub2xkRHJhd0NpcmNsZSBlbmQNCgkNCglHYW1lb3ZlcigpDQplbmQNCg0KZnVuY3Rpb24gSXNNeU1hbmFMb3cobW9kZSkNCglpZiBtb2RlID09ICJIYXJhc3MiIHRoZW4NCgkJaWYgbXlIZXJvLm1hbmEgPCAobXlIZXJvLm1heE1hbmEgKiAoIFNldHRpbmdzLmhhcmFzcy5oYXJhc3NNYW5hIC8gMTAwKSkgdGhlbg0KCQkJcmV0dXJuIHRydWUNCgkJZWxzZQ0KCQkJcmV0dXJuIGZhbHNlDQoJCWVuZA0KCWVsc2VpZiBtb2RlID09ICJDbGVhbiIgdGhlbg0KCQlpZiBteUhlcm8ubWFuYSA8IChteUhlcm8ubWF4TWFuYSAqICggU2V0dGluZ3MubGFuZS5sYW5lTWFuYSAvIDEwMCkpIHRoZW4NCgkJCXJldHVybiB0cnVlDQoJCWVsc2UNCgkJCXJldHVybiBmYWxzZQ0KCQllbmQNCgllbmQNCmVuZA0KDQpmdW5jdGlvbiBNZW51KCkNCglTZXR0aW5ncyA9IHNjcmlwdENvbmZpZygiICjO0rXEvaPI0NS4zqrE49CnwM0pYnkgQjFuayIsICJEcmFjb25pc0lyZWxpYSIpDQoJDQoJU2V0dGluZ3M6YWRkU3ViTWVudSgiIKHuqayprKmsqayprKmsqayociAiLCAiY29tYm8xIikNCglTZXR0aW5nczphZGRTdWJNZW51KCIgqa4goaHBrNXQ0aHP7iChoamuICIsICJjb21ibyIpDQoJCVNldHRpbmdzLmNvbWJvOmFkZFBhcmFtKCJjb21ib0tleSIsICAgIi0tIKmu0ru8/MGs1dAgIiwgU0NSSVBUX1BBUkFNX09OS0VZRE9XTiwgZmFsc2UsIDMyKQ0KCQlTZXR0aW5ncy5jb21ibzphZGRQYXJhbSgidXNlUiIsICAgICAgICItLSCprsq508MgKFIpICIsIFNDUklQVF9QQVJBTV9PTk9GRiwgdHJ1ZSkNCgkJU2V0dGluZ3MuY29tYm86YWRkUGFyYW0oInVzZUUiLCAgICAgICAiLS0gqa7KudPDIChFKSAiLCBTQ1JJUFRfUEFSQU1fTElTVCwgMiwgeyAiLSCyu8q508MgLSIsICItILXItP3Ro9TOIC0iLCAiLSDX3MrHyrnTwyAtIiB9KQ0KCQlTZXR0aW5ncy5jb21ibzphZGRQYXJhbSgiY29tYm9JdGVtcyIsICItLSCprsq508PO78a3ICIsIFNDUklQVF9QQVJBTV9PTk9GRiwgdHJ1ZSkNCgkNCglTZXR0aW5nczphZGRTdWJNZW51KCIgqa4goaHJp8jF0aHP7iChoamuICIsICJoYXJhc3MiKQ0KCQlTZXR0aW5ncy5oYXJhc3M6YWRkUGFyYW0oImhhcmFzc0tleSIsICAiLS0gqa7Su7z8yafIxSAgICAiLCBTQ1JJUFRfUEFSQU1fT05LRVlET1dOLCBmYWxzZSwgR2V0S2V5KCJDIikpDQoJCVNldHRpbmdzLmhhcmFzczphZGRQYXJhbSgidXNlUSIsICAgICAgICItLSCprsq508MgKFEpICAgICIsIFNDUklQVF9QQVJBTV9PTk9GRiwgdHJ1ZSkNCgkJU2V0dGluZ3MuaGFyYXNzOmFkZFBhcmFtKCJ1c2VXIiwgICAgICAgIi0tIKmuyrnTwyAoVykgICAgIiwgU0NSSVBUX1BBUkFNX09OT0ZGLCB0cnVlKQ0KCQlTZXR0aW5ncy5oYXJhc3M6YWRkUGFyYW0oImhhcmFzc01hbmEiLCAiLS0gqa7X7tCht6jBps/e1sYgIiwgU0NSSVBUX1BBUkFNX1NMSUNFLCA1MCwgMCwgMTAwLCAwKQ0KDQoJU2V0dGluZ3M6YWRkU3ViTWVudSgiIKmuIKGhx+XP39Ghz+4goaGpriAiLCAibGFuZSIpDQoJCVNldHRpbmdzLmxhbmU6YWRkUGFyYW0oImxhbmVLZXkiLCAgIi0tIKmu0ru8/Mflz98gICAgICIsIFNDUklQVF9QQVJBTV9PTktFWURPV04sIGZhbHNlLCBHZXRLZXkoIlgiKSkNCgkJU2V0dGluZ3MubGFuZTphZGRQYXJhbSgibGFuZVEiLCAgICAiLS0gqa7KudPDIChRKSAgICAgIiwgU0NSSVBUX1BBUkFNX09OT0ZGLCB0cnVlKQ0KCQlTZXR0aW5ncy5sYW5lOmFkZFBhcmFtKCJsYW5lUiIsICAgICItLSCprsq508MgKFIpICAgICAiLCBTQ1JJUFRfUEFSQU1fT05PRkYsIHRydWUpDQoJCVNldHRpbmdzLmxhbmU6YWRkUGFyYW0oImxhbmVNYW5hIiwgIi0tIKmu1+7QobeowabP3tbGICIsIFNDUklQVF9QQVJBTV9TTElDRSwgMzAsIDAsIDEwMCwgMCkNCg0KCVNldHRpbmdzOmFkZFN1Yk1lbnUoIiCpriChocfl0rDRoc/uIKGhqa4gIiwgImp1bmdsZSIpDQoJCVNldHRpbmdzLmp1bmdsZTphZGRQYXJhbSgianVuZ2xlS2V5IiwgIi0tIKmu0ru8/Mfl0rAgIiwgU0NSSVBUX1BBUkFNX09OS0VZRE9XTiwgZmFsc2UsIEdldEtleSgiWCIpKQ0KCQlTZXR0aW5ncy5qdW5nbGU6YWRkUGFyYW0oImp1bmdsZVEiLCAgICItLSCprsq508MgKFEpICIsIFNDUklQVF9QQVJBTV9PTk9GRiwgdHJ1ZSkNCgkJU2V0dGluZ3MuanVuZ2xlOmFkZFBhcmFtKCJqdW5nbGVXIiwgICAiLS0gqa7KudPDIChXKSAiLCBTQ1JJUFRfUEFSQU1fT05PRkYsIHRydWUpDQoJCVNldHRpbmdzLmp1bmdsZTphZGRQYXJhbSgianVuZ2xlRSIsICAgIi0tIKmuyrnTwyAoRSkgIiwgU0NSSVBUX1BBUkFNX09OT0ZGLCBmYWxzZSkNCgkJDQoJU2V0dGluZ3M6YWRkU3ViTWVudSgiIKmuIKGhu/fJsdGhz+4goaGpriAiLCAia3MiKQ0KCQlTZXR0aW5ncy5rczphZGRQYXJhbSgia2lsbFN0ZWFsIiwgICItLSCprsb008PHwMjLzbcgIiwgU0NSSVBUX1BBUkFNX09OT0ZGLCB0cnVlKQ0KCQlTZXR0aW5ncy5rczphZGRQYXJhbSgiYXV0b0lnbml0ZSIsICItLSCprrXjyLzHwMjLzbcgIiwgU0NSSVBUX1BBUkFNX09OT0ZGLCB0cnVlKQ0KCQkJDQoJU2V0dGluZ3M6YWRkU3ViTWVudSgiIKmuIKGhz9TKvtGhz+4goaGpriAiLCAiZHJhd2luZyIpCQ0KCQlTZXR0aW5ncy5kcmF3aW5nOmFkZFBhcmFtKCJtRHJhdyIsICAgIi0tIKmuvfvTw8v509C3ts6nICAiLCBTQ1JJUFRfUEFSQU1fT05PRkYsIGZhbHNlKQ0KCQlTZXR0aW5ncy5kcmF3aW5nOmFkZFBhcmFtKCJUYXJnZXQiLCAgIi0tIKmuz9TKvrHqvMfEv7HqICAiLCBTQ1JJUFRfUEFSQU1fT05PRkYsIHRydWUpDQoJCVNldHRpbmdzLmRyYXdpbmc6YWRkUGFyYW0oIm15SGVybyIsICAiLS0gqa7P1Mq+uaW797e2zqcgICIsIFNDUklQVF9QQVJBTV9PTk9GRiwgdHJ1ZSkNCgkJU2V0dGluZ3MuZHJhd2luZzphZGRQYXJhbSgibXlDb2xvciIsICItLSCprs/Uyr63ts6n0dXJqyAgIiwgU0NSSVBUX1BBUkFNX0NPTE9SLCB7MjU1LCA3NCwgMjYsIDI1NX0pDQoJCVNldHRpbmdzLmRyYXdpbmc6YWRkUGFyYW0oInFEcmF3IiwgICAiLS0gqa7P1Mq+IChRKSC3ts6nICIsIFNDUklQVF9QQVJBTV9PTk9GRiwgdHJ1ZSkNCgkJU2V0dGluZ3MuZHJhd2luZzphZGRQYXJhbSgicUNvbG9yIiwgICItLSCprs/Uyr4gKFEpINHVyasgIiwgU0NSSVBUX1BBUkFNX0NPTE9SLCB7MjU1LCA3NCwgMjYsIDI1NX0pDQoJCVNldHRpbmdzLmRyYXdpbmc6YWRkUGFyYW0oImVEcmF3IiwgICAiLS0gqa7P1Mq+IChFKSC3ts6nICIsIFNDUklQVF9QQVJBTV9PTk9GRiwgdHJ1ZSkNCgkJU2V0dGluZ3MuZHJhd2luZzphZGRQYXJhbSgiZUNvbG9yIiwgICItLSCprs/Uyr4gKEUpINHVyasgIiwgU0NSSVBUX1BBUkFNX0NPTE9SLCB7MjU1LCA3NCwgMjYsIDI1NX0pDQoJCVNldHRpbmdzLmRyYXdpbmc6YWRkUGFyYW0oInJEcmF3IiwgICAiLS0gqa7P1Mq+IChSKSC3ts6nICIsIFNDUklQVF9QQVJBTV9PTk9GRiwgdHJ1ZSkNCgkJU2V0dGluZ3MuZHJhd2luZzphZGRQYXJhbSgickNvbG9yIiwgICItLSCprs/Uyr4gKFIpINHVyasgIiwgU0NSSVBUX1BBUkFNX0NPTE9SLCB7MjU1LCA3NCwgMjYsIDI1NX0pDQoJCQ0KCQlTZXR0aW5ncy5kcmF3aW5nOmFkZFN1Yk1lbnUoIi0tIKmuzt7R07PZt7bOp8imIiwgImxmYyIpCQ0KCQkJU2V0dGluZ3MuZHJhd2luZy5sZmM6YWRkUGFyYW0oImxmYyIsICAgIi0tIKmuxvTTw87e0dOz2cimICIsIFNDUklQVF9QQVJBTV9PTk9GRiwgZmFsc2UpDQoJCQlTZXR0aW5ncy5kcmF3aW5nLmxmYzphZGRQYXJhbSgiQ0wiLCAgICAiLS0gqa7IptfT1srBvyAgICAgIiwgNCwgMTUwMCwgNzUsIDIwMDAsIDApDQoJCQlTZXR0aW5ncy5kcmF3aW5nLmxmYzphZGRQYXJhbSgiV2lkdGgiLCAiLS0gqa7IptfTv+22yCAgICAgIiwgNCwgMSwgMSwgMTAsIDApDQoJDQoJU2V0dGluZ3M6YWRkU3ViTWVudSgiIKmuIKGhuN+8ttGhz+4goaGpriAiLCAibWlzYyIpDQoJCVNldHRpbmdzLm1pc2M6YWRkUGFyYW0oInBhY2tldHMiLCAgIi0tIKmuyrnTw8r9vt2w/CAgICAgIiwgU0NSSVBUX1BBUkFNX09OT0ZGLCB0cnVlKQ0KCQlTZXR0aW5ncy5taXNjOmFkZFBhcmFtKCJza2luTGlzdCIsICItLSCprsq508PX1Lao0uXGpLf0ICIsIFNDUklQVF9QQVJBTV9MSVNULCA1LCB7ICJOaWdodGJsYWRlIElyZWxpYSIsICJBdmlhdG9yIElyZWxpYSIsICJJbmZpbHRyYXRvciBJcmVsaWEiLCAiRnJvc3RibGFkZSBJcmVsaWEiLCAiQ2xhc3NpYyIgfSkNCgkNCglTZXR0aW5nczphZGRTdWJNZW51KCIgqa4goaHX37+z0aHP7iChoamuICIsICJPcmJ3YWxraW5nIikNCgkJU09XaTpMb2FkVG9NZW51KFNldHRpbmdzLk9yYndhbGtpbmcpDQoNCglTZXR0aW5nczphZGRTdWJNZW51KCIgqa4goaG9xbG+urq7ryChoaHuIGJ5IEIxbmsgICAgICAgIiwgInNlcDEiKQ0KCVNldHRpbmdzOmFkZFN1Yk1lbnUoIiCpriChobj8tuC31s/tIKGhqa4gUci6OjM4NDIzMjM0NyAiLCAic2VwMiIpDQoJU2V0dGluZ3M6YWRkU3ViTWVudSgiIKh0qayprKmsqayprKmsqayocyIsICJzZXAzIikNCgkNCglUYXJnZXRTZWxlY3RvciA9IFRhcmdldFNlbGVjdG9yKFRBUkdFVF9MRVNTX0NBU1QsIFNraWxsUS5yYW5nZSwgREFNQUdFX1BIWVNJQ0FMLCBmYWxzZSkNCglUYXJnZXRTZWxlY3Rvci5uYW1lID0gIklyZWxpYSINCglTZXR0aW5nczphZGRUUyhUYXJnZXRTZWxlY3RvcikNCmVuZA0KDQpmdW5jdGlvbiBWYXJpYWJsZXMoKQ0KCVNraWxsUSA9IHsgbmFtZSA9ICJCbGFkZXN1cmdlIiwgcmFuZ2UgPSA2NTAsIGRlbGF5ID0gbmlsLCBzcGVlZCA9IG5pbCwgd2lkdGggPSBuaWwsIHJlYWR5ID0gZmFsc2UgfQ0KCVNraWxsVyA9IHsgbmFtZSA9ICJIaXRlbiBTdHlsZSIsIHJhbmdlID0gVHJ1ZVJhbmdlKCksIGRlbGF5ID0gbmlsLCBzcGVlZCA9IG5pbCwgd2lkdGggPSBuaWwsIHJlYWR5ID0gZmFsc2UgfQ0KCVNraWxsRSA9IHsgbmFtZSA9ICJFcXVpbGlicml1bSBTdHJpa2UiLCByYW5nZSA9IDQyNSwgZGVsYXkgPSBuaWwsIHNwZWVkID0gbmlsLCB3aWR0aCA9IG5pbCwgcmVhZHkgPSBmYWxzZSB9DQoJU2tpbGxSID0geyBuYW1lID0gIlRyYW5zY2VuZGVudCBCbGFkZXMiLCByYW5nZSA9IDEwMDAsIGRlbGF5ID0gMC4yNSwgc3BlZWQgPSAxMjAwLCB3aWR0aCA9IDgwLCByZWFkeSA9IGZhbHNlIH0NCglJZ25pdGUgPSB7IG5hbWUgPSAiU3VtbW9uZXJEb3QiLCByYW5nZSA9IDYwMCwgc2xvdCA9IG5pbCB9DQoJDQoJZW5lbXlNaW5pb25zID0gbWluaW9uTWFuYWdlcihNSU5JT05fRU5FTVksIFNraWxsUS5yYW5nZSwgbXlIZXJvLCBNSU5JT05fU09SVF9IRUFMVEhfQVNDKQ0KCQ0KCVZQID0gVlByZWRpY3Rpb24oKQ0KCVNPV2kgPSBTT1coVlApDQoJDQoJSnVuZ2xlTW9icyA9IHt9DQoJSnVuZ2xlRm9jdXNNb2JzID0ge30NCgkNCglsYXN0U2tpbiA9IDANCgkNCglpZiBHZXRHYW1lKCkubWFwLnNob3J0TmFtZSA9PSAidHdpc3RlZFRyZWVsaW5lIiB0aGVuDQoJCVR3aXN0ZWRUcmVlbGluZSA9IHRydWUgDQoJZWxzZQ0KCQlUd2lzdGVkVHJlZWxpbmUgPSBmYWxzZQ0KCWVuZA0KCQ0KCV9HLm9sZERyYXdDaXJjbGUgPSByYXdnZXQoX0csICdEcmF3Q2lyY2xlJykNCglfRy5EcmF3Q2lyY2xlID0gRHJhd0NpcmNsZTINCgkNCglwcmlvcml0eVRhYmxlID0gew0KCQkJQVAgPSB7DQoJCQkJIkFubmllIiwgIkFocmkiLCAiQWthbGkiLCAiQW5pdmlhIiwgIkFubmllIiwgIkJyYW5kIiwgIkNhc3Npb3BlaWEiLCAiRGlhbmEiLCAiRXZlbHlubiIsICJGaWRkbGVTdGlja3MiLCAiRml6eiIsICJHcmFnYXMiLCAiSGVpbWVyZGluZ2VyIiwgIkthcnRodXMiLA0KCQkJCSJLYXNzYWRpbiIsICJLYXRhcmluYSIsICJLYXlsZSIsICJLZW5uZW4iLCAiTGVibGFuYyIsICJMaXNzYW5kcmEiLCAiTHV4IiwgIk1hbHphaGFyIiwgIk1vcmRla2Fpc2VyIiwgIk1vcmdhbmEiLCAiTmlkYWxlZSIsICJPcmlhbm5hIiwNCgkJCQkiUnl6ZSIsICJTaW9uIiwgIlN3YWluIiwgIlN5bmRyYSIsICJUZWVtbyIsICJUd2lzdGVkRmF0ZSIsICJWZWlnYXIiLCAiVmlrdG9yIiwgIlZsYWRpbWlyIiwgIlhlcmF0aCIsICJaaWdncyIsICJaeXJhIiwgIlZlbGtveiINCgkJCX0sDQoJCQkNCgkJCVN1cHBvcnQgPSB7DQoJCQkJIkFsaXN0YXIiLCAiQmxpdHpjcmFuayIsICJKYW5uYSIsICJLYXJtYSIsICJMZW9uYSIsICJMdWx1IiwgIk5hbWkiLCAiTnVudSIsICJTb25hIiwgIlNvcmFrYSIsICJUYXJpYyIsICJUaHJlc2giLCAiWmlsZWFuIiwgIkJyYXVtIg0KCQkJfSwNCgkJCQ0KCQkJVGFuayA9IHsNCgkJCQkiQW11bXUiLCAiQ2hvZ2F0aCIsICJEck11bmRvIiwgIkdhbGlvIiwgIkhlY2FyaW0iLCAiTWFscGhpdGUiLCAiTWFva2FpIiwgIk5hc3VzIiwgIlJhbW11cyIsICJTZWp1YW5pIiwgIk5hdXRpbHVzIiwgIlNoZW4iLCAiU2luZ2VkIiwgIlNrYXJuZXIiLCAiVm9saWJlYXIiLA0KCQkJCSJXYXJ3aWNrIiwgIllvcmljayIsICJaYWMiDQoJCQl9LA0KCQkJDQoJCQlBRF9DYXJyeSA9IHsNCgkJCQkiQXNoZSIsICJDYWl0bHluIiwgIkNvcmtpIiwgIkRyYXZlbiIsICJFenJlYWwiLCAiR3JhdmVzIiwgIkpheWNlIiwgIkppbngiLCAiS29nTWF3IiwgIkx1Y2lhbiIsICJNYXN0ZXJZaSIsICJNaXNzRm9ydHVuZSIsICJQYW50aGVvbiIsICJRdWlubiIsICJTaGFjbyIsICJTaXZpciIsDQoJCQkJIlRhbG9uIiwiVHJ5bmRhbWVyZSIsICJUcmlzdGFuYSIsICJUd2l0Y2giLCAiVXJnb3QiLCAiVmFydXMiLCAiVmF5bmUiLCAiWWFzdW8iLCAiWmVkIg0KCQkJfSwNCgkJCQ0KCQkJQnJ1aXNlciA9IHsNCgkJCQkiQWF0cm94IiwgIkRhcml1cyIsICJFbGlzZSIsICJGaW9yYSIsICJHYW5ncGxhbmsiLCAiR2FyZW4iLCAiSXJlbGlhIiwgIkphcnZhbklWIiwgIkpheCIsICJLaGF6aXgiLCAiTGVlU2luIiwgIk5vY3R1cm5lIiwgIk9sYWYiLCAiUG9wcHkiLA0KCQkJCSJSZW5la3RvbiIsICJSZW5nYXIiLCAiUml2ZW4iLCAiUnVtYmxlIiwgIlNoeXZhbmEiLCAiVHJ1bmRsZSIsICJVZHlyIiwgIlZpIiwgIk1vbmtleUtpbmciLCAiWGluWmhhbyINCgkJCX0NCgl9DQoNCglJdGVtcyA9IHsNCgkJQlJLID0geyBpZCA9IDMxNTMsIHJhbmdlID0gNDUwLCByZXFUYXJnZXQgPSB0cnVlLCBzbG90ID0gbmlsIH0sDQoJCUJXQyA9IHsgaWQgPSAzMTQ0LCByYW5nZSA9IDQwMCwgcmVxVGFyZ2V0ID0gdHJ1ZSwgc2xvdCA9IG5pbCB9LA0KCQlERkcgPSB7IGlkID0gMzEyOCwgcmFuZ2UgPSA3NTAsIHJlcVRhcmdldCA9IHRydWUsIHNsb3QgPSBuaWwgfSwNCgkJSEdCID0geyBpZCA9IDMxNDYsIHJhbmdlID0gNDAwLCByZXFUYXJnZXQgPSB0cnVlLCBzbG90ID0gbmlsIH0sDQoJCVJTSCA9IHsgaWQgPSAzMDc0LCByYW5nZSA9IDM1MCwgcmVxVGFyZ2V0ID0gZmFsc2UsIHNsb3QgPSBuaWwgfSwNCgkJU1REID0geyBpZCA9IDMxMzEsIHJhbmdlID0gMzUwLCByZXFUYXJnZXQgPSBmYWxzZSwgc2xvdCA9IG5pbCB9LA0KCQlUTVQgPSB7IGlkID0gMzA3NywgcmFuZ2UgPSAzNTAsIHJlcVRhcmdldCA9IGZhbHNlLCBzbG90ID0gbmlsIH0sDQoJCVlHQiA9IHsgaWQgPSAzMTQyLCByYW5nZSA9IDM1MCwgcmVxVGFyZ2V0ID0gZmFsc2UsIHNsb3QgPSBuaWwgfSwNCgkJQkZUID0geyBpZCA9IDMxODgsIHJhbmdlID0gNzUwLCByZXFUYXJnZXQgPSB0cnVlLCBzbG90ID0gbmlsIH0sDQoJCVJORCA9IHsgaWQgPSAzMTQzLCByYW5nZSA9IDI3NSwgcmVxVGFyZ2V0ID0gZmFsc2UsIHNsb3QgPSBuaWwgfQ0KCX0NCgkNCglpZiBub3QgVHdpc3RlZFRyZWVsaW5lIHRoZW4NCgkJSnVuZ2xlTW9iTmFtZXMgPSB7IA0KCQkJWyJXb2xmOC4xLjIiXQkJCT0gdHJ1ZSwNCgkJCVsiV29sZjguMS4zIl0JCQk9IHRydWUsDQoJCQlbIllvdW5nTGl6YXJkNy4xLjIiXQk9IHRydWUsDQoJCQlbIllvdW5nTGl6YXJkNy4xLjMiXQk9IHRydWUsDQoJCQlbIkxlc3NlcldyYWl0aDkuMS4zIl0JPSB0cnVlLA0KCQkJWyJMZXNzZXJXcmFpdGg5LjEuMiJdCT0gdHJ1ZSwNCgkJCVsiTGVzc2VyV3JhaXRoOS4xLjQiXQk9IHRydWUsDQoJCQlbIllvdW5nTGl6YXJkMTAuMS4yIl0JPSB0cnVlLA0KCQkJWyJZb3VuZ0xpemFyZDEwLjEuMyJdCT0gdHJ1ZSwNCgkJCVsiU21hbGxHb2xlbTExLjEuMSJdCT0gdHJ1ZSwNCgkJCVsiV29sZjIuMS4yIl0JCQk9IHRydWUsDQoJCQlbIldvbGYyLjEuMyJdCQkJPSB0cnVlLA0KCQkJWyJZb3VuZ0xpemFyZDEuMS4yIl0JPSB0cnVlLA0KCQkJWyJZb3VuZ0xpemFyZDEuMS4zIl0JPSB0cnVlLA0KCQkJWyJMZXNzZXJXcmFpdGgzLjEuMyJdCT0gdHJ1ZSwNCgkJCVsiTGVzc2VyV3JhaXRoMy4xLjIiXQk9IHRydWUsDQoJCQlbIkxlc3NlcldyYWl0aDMuMS40Il0JPSB0cnVlLA0KCQkJWyJZb3VuZ0xpemFyZDQuMS4yIl0JPSB0cnVlLA0KCQkJWyJZb3VuZ0xpemFyZDQuMS4zIl0JPSB0cnVlLA0KCQkJWyJTbWFsbEdvbGVtNS4xLjEiXQkJPSB0cnVlDQoJCX0NCgkJDQoJCUZvY3VzSnVuZ2xlTmFtZXMgPSB7DQoJCQlbIkRyYWdvbjYuMS4xIl0JCQk9IHRydWUsDQoJCQlbIldvcm0xMi4xLjEiXQkJCT0gdHJ1ZSwNCgkJCVsiR2lhbnRXb2xmOC4xLjEiXQkJPSB0cnVlLA0KCQkJWyJBbmNpZW50R29sZW03LjEuMSJdCT0gdHJ1ZSwNCgkJCVsiV3JhaXRoOS4xLjEiXQkJCT0gdHJ1ZSwNCgkJCVsiTGl6YXJkRWxkZXIxMC4xLjEiXQk9IHRydWUsDQoJCQlbIkdvbGVtMTEuMS4yIl0JCQk9IHRydWUsDQoJCQlbIkdpYW50V29sZjIuMS4xIl0JCT0gdHJ1ZSwNCgkJCVsiQW5jaWVudEdvbGVtMS4xLjEiXQk9IHRydWUsDQoJCQlbIldyYWl0aDMuMS4xIl0JCQk9IHRydWUsDQoJCQlbIkxpemFyZEVsZGVyNC4xLjEiXQk9IHRydWUsDQoJCQlbIkdvbGVtNS4xLjIiXQkJCT0gdHJ1ZSwNCgkJCVsiR3JlYXRXcmFpdGgxMy4xLjEiXQk9IHRydWUsDQoJCQlbIkdyZWF0V3JhaXRoMTQuMS4xIl0JPSB0cnVlDQoJCX0NCgllbHNlDQoJCUZvY3VzSnVuZ2xlTmFtZXMgPSB7DQoJCQlbIlRUX05XcmFpdGgxLjEuMSJdCQkJPSB0cnVlLA0KCQkJWyJUVF9OR29sZW0yLjEuMSJdCQkJPSB0cnVlLA0KCQkJWyJUVF9OV29sZjMuMS4xIl0JCQk9IHRydWUsDQoJCQlbIlRUX05XcmFpdGg0LjEuMSJdCQkJPSB0cnVlLA0KCQkJWyJUVF9OR29sZW01LjEuMSJdCQkJPSB0cnVlLA0KCQkJWyJUVF9OV29sZjYuMS4xIl0JCQk9IHRydWUsDQoJCQlbIlRUX1NwaWRlcmJvc3M4LjEuMSJdCQk9IHRydWUNCgkJfQkJDQoJCUp1bmdsZU1vYk5hbWVzID0gew0KCQkJWyJUVF9OV3JhaXRoMjEuMS4yIl0JCT0gdHJ1ZSwNCgkJCVsiVFRfTldyYWl0aDIxLjEuMyJdCQk9IHRydWUsDQoJCQlbIlRUX05Hb2xlbTIyLjEuMiJdCQkJPSB0cnVlLA0KCQkJWyJUVF9OV29sZjIzLjEuMiJdCQkJPSB0cnVlLA0KCQkJWyJUVF9OV29sZjIzLjEuMyJdCQkJPSB0cnVlLA0KCQkJWyJUVF9OV3JhaXRoMjQuMS4yIl0JCT0gdHJ1ZSwNCgkJCVsiVFRfTldyYWl0aDI0LjEuMyJdCQk9IHRydWUsDQoJCQlbIlRUX05Hb2xlbTI1LjEuMSJdCQkJPSB0cnVlLA0KCQkJWyJUVF9OV29sZjI2LjEuMiJdCQkJPSB0cnVlLA0KCQkJWyJUVF9OV29sZjI2LjEuMyJdCQkJPSB0cnVlDQoJCX0NCgllbmQNCgkJDQoJZm9yIGkgPSAwLCBvYmpNYW5hZ2VyLm1heE9iamVjdHMgZG8NCgkJbG9jYWwgb2JqZWN0ID0gb2JqTWFuYWdlcjpnZXRPYmplY3QoaSkNCgkJaWYgb2JqZWN0IGFuZCBvYmplY3QudmFsaWQgYW5kIG5vdCBvYmplY3QuZGVhZCB0aGVuDQoJCQlpZiBGb2N1c0p1bmdsZU5hbWVzW29iamVjdC5uYW1lXSB0aGVuDQoJCQkJSnVuZ2xlRm9jdXNNb2JzWyNKdW5nbGVGb2N1c01vYnMrMV0gPSBvYmplY3QNCgkJCWVsc2VpZiBKdW5nbGVNb2JOYW1lc1tvYmplY3QubmFtZV0gdGhlbg0KCQkJCUp1bmdsZU1vYnNbI0p1bmdsZU1vYnMrMV0gPSBvYmplY3QNCgkJCWVuZA0KCQllbmQNCgllbmQNCmVuZA0KDQpmdW5jdGlvbiBTZXRQcmlvcml0eSh0YWJsZSwgaGVybywgcHJpb3JpdHkpDQoJZm9yIGk9MSwgI3RhYmxlLCAxIGRvDQoJCWlmIGhlcm8uY2hhck5hbWU6ZmluZCh0YWJsZVtpXSkgfj0gbmlsIHRoZW4NCgkJCVRTX1NldEhlcm9Qcmlvcml0eShwcmlvcml0eSwgaGVyby5jaGFyTmFtZSkNCgkJZW5kDQoJZW5kDQplbmQNCg0KZnVuY3Rpb24gYXJyYW5nZVByaW9yaXR5cygpDQoJCWZvciBpLCBlbmVteSBpbiBpcGFpcnMoR2V0RW5lbXlIZXJvZXMoKSkgZG8NCgkJU2V0UHJpb3JpdHkocHJpb3JpdHlUYWJsZS5BRF9DYXJyeSwgZW5lbXksIDEpDQoJCVNldFByaW9yaXR5KHByaW9yaXR5VGFibGUuQVAsCSAgIGVuZW15LCAyKQ0KCQlTZXRQcmlvcml0eShwcmlvcml0eVRhYmxlLlN1cHBvcnQsICBlbmVteSwgMykNCgkJU2V0UHJpb3JpdHkocHJpb3JpdHlUYWJsZS5CcnVpc2VyLCAgZW5lbXksIDQpDQoJCVNldFByaW9yaXR5KHByaW9yaXR5VGFibGUuVGFuaywJIGVuZW15LCA1KQ0KCQllbmQNCmVuZA0KDQpmdW5jdGlvbiBhcnJhbmdlUHJpb3JpdHlzVFQoKQ0KICAgICAgICBmb3IgaSwgZW5lbXkgaW4gaXBhaXJzKEdldEVuZW15SGVyb2VzKCkpIGRvDQoJCVNldFByaW9yaXR5KHByaW9yaXR5VGFibGUuQURfQ2FycnksIGVuZW15LCAxKQ0KCQlTZXRQcmlvcml0eShwcmlvcml0eVRhYmxlLkFQLCAgICAgICBlbmVteSwgMSkNCgkJU2V0UHJpb3JpdHkocHJpb3JpdHlUYWJsZS5TdXBwb3J0LCAgZW5lbXksIDIpDQoJCVNldFByaW9yaXR5KHByaW9yaXR5VGFibGUuQnJ1aXNlciwgIGVuZW15LCAyKQ0KCQlTZXRQcmlvcml0eShwcmlvcml0eVRhYmxlLlRhbmssICAgICBlbmVteSwgMykNCiAgICAgICAgZW5kDQplbmQNCg0KZnVuY3Rpb24gVXNlSXRlbXModW5pdCkNCglpZiB1bml0IH49IG5pbCB0aGVuDQoJCWZvciBfLCBpdGVtIGluIHBhaXJzKEl0ZW1zKSBkbw0KCQkJaXRlbS5zbG90ID0gR2V0SW52ZW50b3J5U2xvdEl0ZW0oaXRlbS5pZCkNCgkJCWlmIGl0ZW0uc2xvdCB+PSBuaWwgdGhlbg0KCQkJCWlmIGl0ZW0ucmVxVGFyZ2V0IGFuZCBHZXREaXN0YW5jZSh1bml0KSA8IGl0ZW0ucmFuZ2UgdGhlbg0KCQkJCQlDYXN0U3BlbGwoaXRlbS5zbG90LCB1bml0KQ0KCQkJCWVsc2VpZiBub3QgaXRlbS5yZXFUYXJnZXQgdGhlbg0KCQkJCQlpZiAoR2V0RGlzdGFuY2UodW5pdCkgLSBnZXRIaXRCb3hSYWRpdXMobXlIZXJvKSAtIGdldEhpdEJveFJhZGl1cyh1bml0KSkgPCA1MCB0aGVuDQoJCQkJCQlDYXN0U3BlbGwoaXRlbS5zbG90KQ0KCQkJCQllbmQNCgkJCQllbmQNCgkJCWVuZA0KCQllbmQNCgllbmQNCmVuZA0KDQpmdW5jdGlvbiBnZXRIaXRCb3hSYWRpdXModGFyZ2V0KQ0KICAgIHJldHVybiBHZXREaXN0YW5jZSh0YXJnZXQubWluQkJveCwgdGFyZ2V0Lm1heEJCb3gpLzINCmVuZA0KDQpmdW5jdGlvbiBQcmlvcml0eU9uTG9hZCgpDQoJaWYgaGVyb01hbmFnZXIuaUNvdW50IDwgMTAgb3IgKFR3aXN0ZWRUcmVlbGluZSBhbmQgaGVyb01hbmFnZXIuaUNvdW50IDwgNikgdGhlbg0KCQlwcmludCgiPGI+PGZvbnQgY29sb3I9XCIjOUYzNUZGXCI+KCBJbmNvbXBhcmFibGUgU2VyaWVzICk8L2ZvbnQ+PC9iPiA8Zm9udCBjb2xvcj1cIiNGRjAwMDBcIj5Pbmx5IFNvY29vTCE8L2ZvbnQ+IDwvZm9udD4gPGZvbnQgY29sb3IgPSBcIiNGRjk5Q0NcIj4oYnkgQjFuayk8L2ZvbnQ+IDxmb250IGNvbG9yID0gXCIjMzNDQ0NDXCI+IHFxOjwvZm9udD4gPGZvbnQgY29sb3IgPSBcIiNDQ0ZGMDBcIj4zODQyMzIzNDc8L2ZvbnQ+IikNCgllbHNlaWYgaGVyb01hbmFnZXIuaUNvdW50ID09IDYgdGhlbg0KCQlhcnJhbmdlUHJpb3JpdHlzVFQoKQ0KICAgIGVsc2UNCgkJYXJyYW5nZVByaW9yaXR5cygpDQoJZW5kDQplbmQNCg0KZnVuY3Rpb24gR2V0SnVuZ2xlTW9iKCkNCglmb3IgXywgTW9iIGluIHBhaXJzKEp1bmdsZUZvY3VzTW9icykgZG8NCgkJaWYgVmFsaWRUYXJnZXQoTW9iLCBTa2lsbFEucmFuZ2UpIHRoZW4gcmV0dXJuIE1vYiBlbmQNCgllbmQNCglmb3IgXywgTW9iIGluIHBhaXJzKEp1bmdsZU1vYnMpIGRvDQoJCWlmIFZhbGlkVGFyZ2V0KE1vYiwgU2tpbGxRLnJhbmdlKSB0aGVuIHJldHVybiBNb2IgZW5kDQoJZW5kDQplbmQNCg0KZnVuY3Rpb24gT25DcmVhdGVPYmoob2JqKQ0KCWlmIG9iai52YWxpZCB0aGVuDQoJCWlmIEZvY3VzSnVuZ2xlTmFtZXNbb2JqLm5hbWVdIHRoZW4NCgkJCUp1bmdsZUZvY3VzTW9ic1sjSnVuZ2xlRm9jdXNNb2JzKzFdID0gb2JqDQoJCWVsc2VpZiBKdW5nbGVNb2JOYW1lc1tvYmoubmFtZV0gdGhlbg0KCQkJSnVuZ2xlTW9ic1sjSnVuZ2xlTW9icysxXSA9IG9iag0KCQllbmQNCgllbmQNCmVuZA0KDQpmdW5jdGlvbiBPbkRlbGV0ZU9iaihvYmopDQoJZm9yIGksIE1vYiBpbiBwYWlycyhKdW5nbGVNb2JzKSBkbw0KCQlpZiBvYmoubmFtZSA9PSBNb2IubmFtZSB0aGVuDQoJCQl0YWJsZS5yZW1vdmUoSnVuZ2xlTW9icywgaSkNCgkJZW5kDQoJZW5kDQoJZm9yIGksIE1vYiBpbiBwYWlycyhKdW5nbGVGb2N1c01vYnMpIGRvDQoJCWlmIG9iai5uYW1lID09IE1vYi5uYW1lIHRoZW4NCgkJCXRhYmxlLnJlbW92ZShKdW5nbGVGb2N1c01vYnMsIGkpDQoJCWVuZA0KCWVuZA0KZW5kDQoNCmZ1bmN0aW9uIEdldEJlc3RMaW5lRmFybVBvc2l0aW9uKHJhbmdlLCB3aWR0aCwgb2JqZWN0cykNCiAgICBsb2NhbCBCZXN0UG9zIA0KICAgIGxvY2FsIEJlc3RIaXQgPSAwDQogICAgZm9yIGksIG9iamVjdCBpbiBpcGFpcnMob2JqZWN0cykgZG8NCiAgICAgICAgbG9jYWwgRW5kUG9zID0gVmVjdG9yKG15SGVyby52aXNpb25Qb3MpICsgcmFuZ2UgKiAoVmVjdG9yKG9iamVjdCkgLSBWZWN0b3IobXlIZXJvLnZpc2lvblBvcykpOm5vcm1hbGl6ZWQoKQ0KICAgICAgICBsb2NhbCBoaXQgPSBDb3VudE9iamVjdHNPbkxpbmVTZWdtZW50KG15SGVyby52aXNpb25Qb3MsIEVuZFBvcywgd2lkdGgsIG9iamVjdHMpDQogICAgICAgIGlmIGhpdCA+IEJlc3RIaXQgdGhlbg0KICAgICAgICAgICAgQmVzdEhpdCA9IGhpdA0KICAgICAgICAgICAgQmVzdFBvcyA9IFZlY3RvcihvYmplY3QpDQogICAgICAgICAgICBpZiBCZXN0SGl0ID09ICNvYmplY3RzIHRoZW4NCiAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICBlbmQNCiAgICAgICAgIGVuZA0KICAgIGVuZA0KDQogICAgcmV0dXJuIEJlc3RQb3MsIEJlc3RIaXQNCmVuZA0KDQpmdW5jdGlvbiBDb3VudE9iamVjdHNPbkxpbmVTZWdtZW50KFN0YXJ0UG9zLCBFbmRQb3MsIHdpZHRoLCBvYmplY3RzKQ0KICAgIGxvY2FsIG4gPSAwDQogICAgZm9yIGksIG9iamVjdCBpbiBpcGFpcnMob2JqZWN0cykgZG8NCiAgICAgICAgbG9jYWwgcG9pbnRTZWdtZW50LCBwb2ludExpbmUsIGlzT25TZWdtZW50ID0gVmVjdG9yUG9pbnRQcm9qZWN0aW9uT25MaW5lU2VnbWVudChTdGFydFBvcywgRW5kUG9zLCBvYmplY3QpDQogICAgICAgIGlmIGlzT25TZWdtZW50IGFuZCBHZXREaXN0YW5jZVNxcihwb2ludFNlZ21lbnQsIG9iamVjdCkgPCB3aWR0aCAqIHdpZHRoIHRoZW4NCiAgICAgICAgICAgIG4gPSBuICsgMQ0KICAgICAgICBlbmQNCiAgICBlbmQNCg0KICAgIHJldHVybiBuDQplbmQNCg0KLS0gVHJlZXMNCmZ1bmN0aW9uIEdldEN1c3RvbVRhcmdldCgpDQogCVRhcmdldFNlbGVjdG9yOnVwZGF0ZSgpIAkNCiAgICBpZiBfRy5NTUFfVGFyZ2V0IGFuZCBfRy5NTUFfVGFyZ2V0LnR5cGUgPT0gbXlIZXJvLnR5cGUgdGhlbiByZXR1cm4gX0cuTU1BX1RhcmdldCBlbmQNCiAgICBpZiBfRy5BdXRvQ2FycnkgYW5kIF9HLkF1dG9DYXJyeS5Dcm9zc2hhaXIgYW5kIF9HLkF1dG9DYXJyeS5BdHRhY2tfQ3Jvc3NoYWlyIGFuZCBfRy5BdXRvQ2FycnkuQXR0YWNrX0Nyb3NzaGFpci50YXJnZXQgYW5kIF9HLkF1dG9DYXJyeS5BdHRhY2tfQ3Jvc3NoYWlyLnRhcmdldC50eXBlID09IG15SGVyby50eXBlIHRoZW4gcmV0dXJuIF9HLkF1dG9DYXJyeS5BdHRhY2tfQ3Jvc3NoYWlyLnRhcmdldCBlbmQNCglyZXR1cm4gVGFyZ2V0U2VsZWN0b3IudGFyZ2V0DQplbmQNCg0KLS0gc2hhbHp1dGgNCmZ1bmN0aW9uIEdlbk1vZGVsUGFja2V0KGNoYW1wLCBza2luSWQpDQoJcCA9IENMb0xQYWNrZXQoMHg5NykNCglwOkVuY29kZUYobXlIZXJvLm5ldHdvcmtJRCkNCglwLnBvcyA9IDENCgl0MSA9IHA6RGVjb2RlMSgpDQoJdDIgPSBwOkRlY29kZTEoKQ0KCXQzID0gcDpEZWNvZGUxKCkNCgl0NCA9IHA6RGVjb2RlMSgpDQoJcDpFbmNvZGUxKHQxKQ0KCXA6RW5jb2RlMSh0MikNCglwOkVuY29kZTEodDMpDQoJcDpFbmNvZGUxKGJpdDMyLmJhbmQodDQsMHhCKSkNCglwOkVuY29kZTEoMSktLWhhcmRjb2RlIDEgYml0ZmllbGQNCglwOkVuY29kZTQoc2tpbklkKQ0KCWZvciBpID0gMSwgI2NoYW1wIGRvDQoJCXA6RW5jb2RlMShzdHJpbmcuYnl0ZShjaGFtcDpzdWIoaSxpKSkpDQoJZW5kDQoJZm9yIGkgPSAjY2hhbXAgKyAxLCA2NCBkbw0KCQlwOkVuY29kZTEoMCkNCgllbmQNCglwOkhpZGUoKQ0KCVJlY3ZQYWNrZXQocCkNCmVuZA0KDQpmdW5jdGlvbiBDaG9vc2VTa2luKCkNCglpZiBTZXR0aW5ncy5taXNjLnNraW5MaXN0IH49IGxhc3RTa2luIHRoZW4NCgkJbGFzdFNraW4gPSBTZXR0aW5ncy5taXNjLnNraW5MaXN0DQoJCUdlbk1vZGVsUGFja2V0KCJJcmVsaWEiLCBTZXR0aW5ncy5taXNjLnNraW5MaXN0KQ0KCWVuZA0KZW5kDQoNCmZ1bmN0aW9uIFRydWVSYW5nZSgpDQoJcmV0dXJuIG15SGVyby5yYW5nZSArIEdldERpc3RhbmNlKG15SGVybywgbXlIZXJvLm1pbkJCb3gpDQplbmQNCg0KDQotLSBCYXJhc2lhLCB2YWRhc2gsIHZpc2V2ZXJzYQ0KZnVuY3Rpb24gRHJhd0NpcmNsZU5leHRMdmwoeCwgeSwgeiwgcmFkaXVzLCB3aWR0aCwgY29sb3IsIGNob3JkbGVuZ3RoKQ0KICByYWRpdXMgPSByYWRpdXMgb3IgMzAwDQogIHF1YWxpdHkgPSBtYXRoLm1heCg4LHJvdW5kKDE4MC9tYXRoLmRlZygobWF0aC5hc2luKChjaG9yZGxlbmd0aC8oMipyYWRpdXMpKSkpKSkpDQogIHF1YWxpdHkgPSAyICogbWF0aC5waSAvIHF1YWxpdHkNCiAgcmFkaXVzID0gcmFkaXVzKi45Mg0KICANCiAgbG9jYWwgcG9pbnRzID0ge30NCiAgZm9yIHRoZXRhID0gMCwgMiAqIG1hdGgucGkgKyBxdWFsaXR5LCBxdWFsaXR5IGRvDQogICAgbG9jYWwgYyA9IFdvcmxkVG9TY3JlZW4oRDNEWFZFQ1RPUjMoeCArIHJhZGl1cyAqIG1hdGguY29zKHRoZXRhKSwgeSwgeiAtIHJhZGl1cyAqIG1hdGguc2luKHRoZXRhKSkpDQogICAgcG9pbnRzWyNwb2ludHMgKyAxXSA9IEQzRFhWRUNUT1IyKGMueCwgYy55KQ0KICBlbmQNCiAgDQogIERyYXdMaW5lczIocG9pbnRzLCB3aWR0aCBvciAxLCBjb2xvciBvciA0Mjk0OTY3Mjk1KQ0KZW5kDQoNCmZ1bmN0aW9uIHJvdW5kKG51bSkgDQogIGlmIG51bSA+PSAwIHRoZW4gcmV0dXJuIG1hdGguZmxvb3IobnVtKy41KSBlbHNlIHJldHVybiBtYXRoLmNlaWwobnVtLS41KSBlbmQNCmVuZA0KDQpmdW5jdGlvbiBEcmF3Q2lyY2xlMih4LCB5LCB6LCByYWRpdXMsIGNvbG9yKQ0KICBsb2NhbCB2UG9zMSA9IFZlY3Rvcih4LCB5LCB6KQ0KICBsb2NhbCB2UG9zMiA9IFZlY3RvcihjYW1lcmFQb3MueCwgY2FtZXJhUG9zLnksIGNhbWVyYVBvcy56KQ0KICBsb2NhbCB0UG9zID0gdlBvczEgLSAodlBvczEgLSB2UG9zMik6bm9ybWFsaXplZCgpICogcmFkaXVzDQogIGxvY2FsIHNQb3MgPSBXb3JsZFRvU2NyZWVuKEQzRFhWRUNUT1IzKHRQb3MueCwgdFBvcy55LCB0UG9zLnopKQ0KICANCiAgaWYgT25TY3JlZW4oeyB4ID0gc1Bvcy54LCB5ID0gc1Bvcy55IH0sIHsgeCA9IHNQb3MueCwgeSA9IHNQb3MueSB9KSB0aGVuDQogICAgRHJhd0NpcmNsZU5leHRMdmwoeCwgeSwgeiwgcmFkaXVzLCBTZXR0aW5ncy5kcmF3aW5nLmxmYy5XaWR0aCwgY29sb3IsIFNldHRpbmdzLmRyYXdpbmcubGZjLkNMKSANCiAgZW5kDQplbmQNCg0KZnVuY3Rpb24gR2FtZW92ZXIoKQ0KCWlmIEdldEdhbWUoKS5pc092ZXIgdGhlbg0KCQlVcGRhdGVXZWIoZmFsc2UsIFNjcmlwdE5hbWUsIGlkLCBIV0lEKQ0KCQlzdGFydFVwID0gZmFsc2U7DQoJZW5kDQplbmQ="), nil, "bt", _ENV))()
