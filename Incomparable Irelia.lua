--[[


 -- Incomparable Irelia v0.8
 -- Only SocooL
 -- 更多分享Q群:384232347
 -- by B1nk


--]]

assert(load(Base64Decode("bG9jYWwgdmVyc2lvbiA9ICIwLjgiDQoNCmlmIG15SGVyby5jaGFyTmFtZSB+PSAiSXJlbGlhIiB0aGVuIHJldHVybiBlbmQNCg0KSFdJRCA9IEJhc2U2NEVuY29kZSh0b3N0cmluZyhvcy5nZXRlbnYoIlBST0NFU1NPUl9JREVOVElGSUVSIikuLm9zLmdldGVudigiVVNFUk5BTUUiKS4ub3MuZ2V0ZW52KCJDT01QVVRFUk5BTUUiKS4ub3MuZ2V0ZW52KCJQUk9DRVNTT1JfTEVWRUwiKS4ub3MuZ2V0ZW52KCJQUk9DRVNTT1JfUkVWSVNJT04iKSkpDQppZCA9IDQ0DQpTY3JpcHROYW1lID0gIklyZWxpYUhpdGVuU3R5bGUiDQoNCmFzc2VydChsb2FkKEJhc2U2NERlY29kZSgiRzB4MVlWSUFBUVFFQkFnQUdaTU5DaG9LQUFBQUFBQUFBQUFBQVFJREFBQUFKUUFBQUFnQUFJQWZBSUFBQVFBQUFBUUtBQUFBVlhCa1lYUmxWMlZpQUFFQUFBQUNBQUFBREFBQUFBUUFFVFVBQUFBR0FVQUFRVUVBQUIyQkFBRkdnVUFBaDhGQUFwMEJnQUJkZ1FBQWpBSEJBZ0ZDQVFCQmdnRUFuVUVBQWhzQUFBQVh3QU9Bak1IQkFnRUNBZ0JBQWdBQmdVSUNBTUFDZ0FFQmd3SUFSc05DQUVjRHd3YUFBNEFBd1VNREFBR0VBd0JkZ3dBQ2djTURBQmFDQXdTZFFZQUJGNEFEZ0l6QndRSUJBZ1FBUUFJQUFZRkNBZ0RBQW9BQkFZTUNBRWJEUWdCSEE4TUdnQU9BQU1GREF3QUJoQU1BWFlNQUFvSERBd0FXZ2dNRW5VR0FBWXdCeFFJQlFnVUFuUUdCQVFnQWdva0l3QUdKQ0lDQmlJeUJ4UUtkUVFBQkh3Q0FBQmNBQUFBRUNBQUFBSEpsY1hWcGNtVUFCQWNBQUFCemIyTnJaWFFBQkFjQUFBQmhjM05sY25RQUJBUUFBQUIwWTNBQUJBZ0FBQUJqYjI1dVpXTjBBQVFRQUFBQVltOXNMWFJ5WVdOclpYSXVZMjl0QUFNQUFBQUFBQUJVUUFRRkFBQUFjMlZ1WkFBRUdBQUFBRWRGVkNBdmNtVnpkQzl1Wlhkd2JHRjVaWEkvYVdROUFBUUhBQUFBSm1oM2FXUTlBQVFOQUFBQUpuTmpjbWx3ZEU1aGJXVTlBQVFIQUFBQWMzUnlhVzVuQUFRRkFBQUFaM04xWWdBRURRQUFBRnRlTUMwNVFTMWFZUzE2WFFBRUFRQUFBQUFFSlFBQUFDQklWRlJRTHpFdU1BMEtTRzl6ZERvZ1ltOXNMWFJ5WVdOclpYSXVZMjl0RFFvTkNnQUVHd0FBQUVkRlZDQXZjbVZ6ZEM5a1pXeGxkR1Z3YkdGNVpYSS9hV1E5QUFRQ0FBQUFjd0FFQndBQUFITjBZWFIxY3dBRUNBQUFBSEJoY25ScFlXd0FCQWdBQUFCeVpXTmxhWFpsQUFRREFBQUFLbUVBQkFZQUFBQmpiRzl6WlFBQUFBQUFBUUFBQUFBQUVBQUFBRUJ2WW1aMWMyTmhkR1ZrTG14MVlRQTFBQUFBQWdBQUFBSUFBQUFDQUFBQUFnQUFBQUlBQUFBQ0FBQUFBZ0FBQUFNQUFBQURBQUFBQXdBQUFBTUFBQUFFQUFBQUJBQUFBQVVBQUFBRkFBQUFCUUFBQUFZQUFBQUdBQUFBQndBQUFBY0FBQUFIQUFBQUJ3QUFBQWNBQUFBSEFBQUFCd0FBQUFnQUFBQUhBQUFBQlFBQUFBZ0FBQUFKQUFBQUNRQUFBQWtBQUFBS0FBQUFDZ0FBQUFzQUFBQUxBQUFBQ3dBQUFBc0FBQUFMQUFBQUN3QUFBQXNBQUFBTUFBQUFDd0FBQUFrQUFBQU1BQUFBREFBQUFBd0FBQUFNQUFBQURBQUFBQXdBQUFBTUFBQUFEQUFBQUF3QUFBQUdBQUFBQWdBQUFHRUFBQUFBQURVQUFBQUNBQUFBWWdBQUFBQUFOUUFBQUFJQUFBQmpBQUFBQUFBMUFBQUFBZ0FBQUdRQUFBQUFBRFVBQUFBREFBQUFYMkVBQXdBQUFEVUFBQUFEQUFBQVlXRUFCd0FBQURVQUFBQUJBQUFBQlFBQUFGOUZUbFlBQVFBQUFBRUFFQUFBQUVCdlltWjFjMk5oZEdWa0xteDFZUUFEQUFBQURBQUFBQUlBQUFBTUFBQUFBQUFBQUFFQUFBQUZBQUFBWDBWT1ZnQT0iKSwgbmlsLCAiYnQiLCBfRU5WKSkoKQ0KDQpfRy5Vc2VVcGRhdGVyID0gdHJ1ZQ0KDQpsb2NhbCBSRVFVSVJFRF9MSUJTID0gew0KCVsiU09XIl0gPSAiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0hlbGxzaW5nL0JvTC9tYXN0ZXIvY29tbW9uL1NPVy5sdWEiLA0KCVsiVlByZWRpY3Rpb24iXSA9ICJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vSGVsbHNpbmcvQm9ML21hc3Rlci9jb21tb24vVlByZWRpY3Rpb24ubHVhIg0KfQ0KDQpsb2NhbCBET1dOTE9BRElOR19MSUJTLCBET1dOTE9BRF9DT1VOVCA9IGZhbHNlLCAwDQoNCmZ1bmN0aW9uIEFmdGVyRG93bmxvYWQoKQ0KCURPV05MT0FEX0NPVU5UID0gRE9XTkxPQURfQ09VTlQgLSAxDQoJaWYgRE9XTkxPQURfQ09VTlQgPT0gMCB0aGVuDQoJCURPV05MT0FESU5HX0xJQlMgPSBmYWxzZQ0KCQlwcmludCgiPGI+PGZvbnQgY29sb3I9XCIjNjY5OUZGXCI+SW5jb21wYXJhYmxlIElyZWxpYTo8L2ZvbnQ+PC9iPiA8Zm9udCBjb2xvcj1cIiNGRkZGRkZcIj5SZXF1aXJlZCBsaWJyYXJpZXMgZG93bmxvYWRlZCBzdWNjZXNzZnVsbHksIHBsZWFzZSByZWxvYWQgKGRvdWJsZSBGOSkuPC9mb250PiIpDQoJZW5kDQplbmQNCg0KZm9yIERPV05MT0FEX0xJQl9OQU1FLCBET1dOTE9BRF9MSUJfVVJMIGluIHBhaXJzKFJFUVVJUkVEX0xJQlMpIGRvDQoJaWYgRmlsZUV4aXN0KExJQl9QQVRIIC4uIERPV05MT0FEX0xJQl9OQU1FIC4uICIubHVhIikgdGhlbg0KCQlyZXF1aXJlKERPV05MT0FEX0xJQl9OQU1FKQ0KCWVsc2UNCgkJRE9XTkxPQURJTkdfTElCUyA9IHRydWUNCgkJRE9XTkxPQURfQ09VTlQgPSBET1dOTE9BRF9DT1VOVCArIDENCgkJRG93bmxvYWRGaWxlKERPV05MT0FEX0xJQl9VUkwsIExJQl9QQVRIIC4uIERPV05MT0FEX0xJQl9OQU1FLi4iLmx1YSIsIEFmdGVyRG93bmxvYWQpDQoJZW5kDQplbmQNCg0KaWYgRE9XTkxPQURJTkdfTElCUyB0aGVuIHJldHVybiBlbmQNCg0KbG9jYWwgVVBEQVRFX05BTUUgPSAiSW5jb21wYXJhYmxlIElyZWxpYSINCmxvY2FsIFVQREFURV9IT1NUID0gInJhdy5naXRodWIuY29tIg0KbG9jYWwgVVBEQVRFX1BBVEggPSAiL0IxbmsvQm9sLVN0dWRpby9tYXN0ZXIvSW5jb21wYXJhYmxlJTIwSXJlbGlhLmx1YSIgLi4gIj9yYW5kPSIgLi4gbWF0aC5yYW5kb20oMSwgMTAwMDApDQpsb2NhbCBVUERBVEVfRklMRV9QQVRIID0gU0NSSVBUX1BBVEguLlVQREFURV9OQU1FLi4iLmx1YSINCmxvY2FsIFVQREFURV9VUkwgPSAiaHR0cHM6Ly8iLi5VUERBVEVfSE9TVC4uVVBEQVRFX1BBVEgNCg0KZnVuY3Rpb24gQXV0b3VwZGF0ZXJNc2cobXNnKSBwcmludCgiPGI+PGZvbnQgY29sb3I9XCIjNjY5OUZGXCI+Ii4uVVBEQVRFX05BTUUuLiI6PC9mb250PjwvYj4gPGZvbnQgY29sb3I9XCIjRkZGRkZGXCI+Ii4ubXNnLi4iLjwvZm9udD4iKSBlbmQNCmlmIF9HLlVzZVVwZGF0ZXIgdGhlbg0KCWxvY2FsIFNlcnZlckRhdGEgPSBHZXRXZWJSZXN1bHQoVVBEQVRFX0hPU1QsIFVQREFURV9QQVRIKQ0KCWlmIFNlcnZlckRhdGEgdGhlbg0KCQlsb2NhbCBTZXJ2ZXJWZXJzaW9uID0gc3RyaW5nLm1hdGNoKFNlcnZlckRhdGEsICJsb2NhbCB2ZXJzaW9uID0gXCIlZCsuJWQrXCIiKQ0KCQlTZXJ2ZXJWZXJzaW9uID0gc3RyaW5nLm1hdGNoKFNlcnZlclZlcnNpb24gYW5kIFNlcnZlclZlcnNpb24gb3IgIiIsICIlZCsuJWQrIikNCgkJaWYgU2VydmVyVmVyc2lvbiB0aGVuDQoJCQlTZXJ2ZXJWZXJzaW9uID0gdG9udW1iZXIoU2VydmVyVmVyc2lvbikNCgkJCWlmIHRvbnVtYmVyKHZlcnNpb24pIDwgU2VydmVyVmVyc2lvbiB0aGVuDQoJCQkJQXV0b3VwZGF0ZXJNc2coIk5ldyB2ZXJzaW9uIGF2YWlsYWJsZSIuLlNlcnZlclZlcnNpb24pDQoJCQkJQXV0b3VwZGF0ZXJNc2coIlVwZGF0aW5nLCBwbGVhc2UgZG9uJ3QgcHJlc3MgRjkiKQ0KCQkJCURvd25sb2FkRmlsZShVUERBVEVfVVJMLCBVUERBVEVfRklMRV9QQVRILCBmdW5jdGlvbiAoKSBBdXRvdXBkYXRlck1zZygiU3VjY2Vzc2Z1bGx5IHVwZGF0ZWQuICgiLi52ZXJzaW9uLi4iID0+ICIuLlNlcnZlclZlcnNpb24uLiIpLCBwcmVzcyBGOSB0d2ljZSB0byBsb2FkIHRoZSB1cGRhdGVkIHZlcnNpb24uIikgZW5kKQkgDQoJCQllbHNlDQoJCQkJQXV0b3VwZGF0ZXJNc2coIllvdSBoYXZlIGdvdCB0aGUgbGF0ZXN0IHZlcnNpb24gKCIuLlNlcnZlclZlcnNpb24uLiIpIikNCgkJCWVuZA0KCQllbmQNCgllbHNlDQoJCUF1dG91cGRhdGVyTXNnKCJFcnJvciBkb3dubG9hZGluZyB2ZXJzaW9uIGluZm8iKQ0KCWVuZA0KZW5kDQoNCmZ1bmN0aW9uIE9uTG9hZCgpDQoJcHJpbnQoIjxiPjxmb250IGNvbG9yPVwiIzlGMzVGRlwiPiggSW5jb21wYXJhYmxlIElyZWxpYSApPC9mb250PjwvYj4gPGZvbnQgY29sb3I9XCIjRkZGRkZGXCI+bG9hZGVkITwvZm9udD4iKQ0KCXByaW50KCI8Yj48Zm9udCBjb2xvcj1cIiNGRjk5MDBcIj4oIEluY29tcGFyYWJsZSBTZXJpZXMgKTwvZm9udD48L2I+IDxmb250IGNvbG9yPVwiI0ZGMDAwMFwiPk9ubHkgU29jb29MITwvZm9udD4gPC9mb250PiA8Zm9udCBjb2xvciA9IFwiI0ZGOTlDQ1wiPihieSBCMW5rKTwvZm9udD4gPGZvbnQgY29sb3IgPSBcIiMzM0NDQ0NcIj4gcXE6PC9mb250PiA8Zm9udCBjb2xvciA9IFwiI0NDRkYwMFwiPjM4NDIzMjM0NzwvZm9udD4iKQ0KCVVwZGF0ZVdlYih0cnVlLCBTY3JpcHROYW1lLCBpZCwgSFdJRCkNCglWYXJpYWJsZXMoKQ0KCU1lbnUoKQ0KCVByaW9yaXR5T25Mb2FkKCkNCmVuZA0KDQpmdW5jdGlvbiBPbkJ1Z3NwbGF0KCkNCglVcGRhdGVXZWIoZmFsc2UsIFNjcmlwdE5hbWUsIGlkLCBIV0lEKQ0KZW5kDQoNCmZ1bmN0aW9uIE9uVW5sb2FkKCkNCglVcGRhdGVXZWIoZmFsc2UsIFNjcmlwdE5hbWUsIGlkLCBIV0lEKQ0KZW5kDQoNCmZ1bmN0aW9uIE9uVGljaygpDQoJQ29tYm9LZXkgPSBTZXR0aW5ncy5jb21iby5jb21ib0tleQ0KCUhhcmFzc0tleSA9IFNldHRpbmdzLmhhcmFzcy5oYXJhc3NLZXkNCglKdW5nbGVDbGVhcktleSA9IFNldHRpbmdzLmp1bmdsZS5qdW5nbGVLZXkNCglMYW5lQ2xlYXJLZXkgPSBTZXR0aW5ncy5sYW5lLmxhbmVLZXkNCgkNCglpZiBDb21ib0tleSB0aGVuDQoJCUNvbWJvKFRhcmdldCkNCgllbmQNCgkNCglpZiBIYXJhc3NLZXkgdGhlbg0KCQlIYXJhc3MoVGFyZ2V0KQ0KCWVuZA0KCQ0KCWlmIEp1bmdsZUNsZWFyS2V5IHRoZW4NCgkJSnVuZ2xlQ2xlYXIoKQ0KCWVuZA0KCQ0KCWlmIExhbmVDbGVhcktleSB0aGVuDQoJCUxhbmVDbGVhcigpDQoJZW5kDQoJDQoJaWYgU2V0dGluZ3Mua3Mua2lsbFN0ZWFsIHRoZW4NCgkJS2lsbFN0ZWFsKCkNCgllbmQNCg0KCUNoZWNrcygpDQplbmQNCg0KDQpmdW5jdGlvbiBPbkRyYXcoKQ0KCWlmIG5vdCBteUhlcm8uZGVhZCBhbmQgbm90IFNldHRpbmdzLmRyYXdpbmcubURyYXcgdGhlbg0KCQlpZiBTa2lsbFEucmVhZHkgYW5kIFNldHRpbmdzLmRyYXdpbmcucURyYXcgdGhlbiANCgkJCURyYXdDaXJjbGUobXlIZXJvLngsIG15SGVyby55LCBteUhlcm8ueiwgU2tpbGxRLnJhbmdlLCBSR0IoU2V0dGluZ3MuZHJhd2luZy5xQ29sb3JbMl0sIFNldHRpbmdzLmRyYXdpbmcucUNvbG9yWzNdLCBTZXR0aW5ncy5kcmF3aW5nLnFDb2xvcls0XSkpDQoJCWVuZA0KCQlpZiBTa2lsbEUucmVhZHkgYW5kIFNldHRpbmdzLmRyYXdpbmcuZURyYXcgdGhlbiANCgkJCURyYXdDaXJjbGUobXlIZXJvLngsIG15SGVyby55LCBteUhlcm8ueiwgU2tpbGxFLnJhbmdlLCBSR0IoU2V0dGluZ3MuZHJhd2luZy5lQ29sb3JbMl0sIFNldHRpbmdzLmRyYXdpbmcuZUNvbG9yWzNdLCBTZXR0aW5ncy5kcmF3aW5nLmVDb2xvcls0XSkpDQoJCWVuZA0KCQlpZiBTa2lsbEUucmVhZHkgYW5kIFNldHRpbmdzLmRyYXdpbmcuckRyYXcgdGhlbiANCgkJCURyYXdDaXJjbGUobXlIZXJvLngsIG15SGVyby55LCBteUhlcm8ueiwgU2tpbGxSLnJhbmdlLCBSR0IoU2V0dGluZ3MuZHJhd2luZy5yQ29sb3JbMl0sIFNldHRpbmdzLmRyYXdpbmcuckNvbG9yWzNdLCBTZXR0aW5ncy5kcmF3aW5nLnJDb2xvcls0XSkpDQoJCWVuZA0KCQkNCgkJaWYgU2V0dGluZ3MuZHJhd2luZy5UYXJnZXQgYW5kIFRhcmdldCB+PSBuaWwgdGhlbg0KCQkJRHJhd0NpcmNsZShUYXJnZXQueCwgVGFyZ2V0LnksIFRhcmdldC56LCA3MCwgMHhDRTAwRkYpDQoJCWVuZA0KCQkNCgkJaWYgU2V0dGluZ3MuZHJhd2luZy5teUhlcm8gdGhlbg0KCQkJRHJhd0NpcmNsZShteUhlcm8ueCwgbXlIZXJvLnksIG15SGVyby56LCBUcnVlUmFuZ2UoKSwgUkdCKFNldHRpbmdzLmRyYXdpbmcubXlDb2xvclsyXSwgU2V0dGluZ3MuZHJhd2luZy5teUNvbG9yWzNdLCBTZXR0aW5ncy5kcmF3aW5nLm15Q29sb3JbNF0pKQ0KCQllbmQNCgllbmQNCmVuZA0KDQpmdW5jdGlvbiBDb21ibyh1bml0KQ0KCWlmIFZhbGlkVGFyZ2V0KHVuaXQpIGFuZCB1bml0IH49IG5pbCBhbmQgdW5pdC50eXBlID09IG15SGVyby50eXBlIHRoZW4NCgkJaWYgU2V0dGluZ3MuY29tYm8uY29tYm9JdGVtcyB0aGVuDQoJCQlVc2VJdGVtcyh1bml0KQ0KCQllbmQNCgkJDQoJCUNhc3RRKHVuaXQpDQoJCUNhc3RXKHVuaXQpDQoJCUNhc3RFKHVuaXQpDQoJCWlmIFNldHRpbmdzLmNvbWJvLnVzZVIgdGhlbiBDYXN0Uih1bml0KSBlbmQNCgllbmQNCmVuZA0KDQpmdW5jdGlvbiBIYXJhc3ModW5pdCkNCglpZiBWYWxpZFRhcmdldCh1bml0KSBhbmQgdW5pdCB+PSBuaWwgYW5kIHVuaXQudHlwZSA9PSBteUhlcm8udHlwZSBhbmQgbm90IElzTXlNYW5hTG93KCkgdGhlbg0KCQlpZiBTZXR0aW5ncy5oYXJhc3MudXNlUSB0aGVuIENhc3RRKHVuaXQpIGVuZA0KCQlpZiBTZXR0aW5ncy5oYXJhc3MudXNlVyB0aGVuIENhc3RXKHVuaXQpIGVuZA0KCWVuZA0KZW5kDQoNCmZ1bmN0aW9uIExhbmVDbGVhcigpDQoJZW5lbXlNaW5pb25zOnVwZGF0ZSgpDQoJaWYgTGFuZUNsZWFyS2V5IGFuZCBub3QgSXNNeU1hbmFMb3coIkNsZWFuIikgdGhlbg0KCQlmb3IgaSwgbWluaW9uIGluIHBhaXJzKGVuZW15TWluaW9ucy5vYmplY3RzKSBkbw0KCQkJaWYgVmFsaWRUYXJnZXQobWluaW9uKSBhbmQgbWluaW9uIH49IG5pbCB0aGVuDQoJCQkJcURtZyA9IGdldERtZygiUSIsIG1pbmlvbiwgbXlIZXJvKSArIGdldERtZygiQUQiLCBtaW5pb24sIG15SGVybykNCg0KCQkJCWlmIFNldHRpbmdzLmxhbmUubGFuZVEgYW5kIEdldERpc3RhbmNlKG1pbmlvbikgPD0gU2tpbGxRLnJhbmdlIGFuZCBtaW5pb24uaGVhbHRoIDw9IHFEbWcgdGhlbiANCgkJCQkJaWYgVklQX1VTRVIgYW5kIFNldHRpbmdzLm1pc2MucGFja2V0cyB0aGVuIFBhY2tldCgiU19DQVNUIiwge3NwZWxsSWQgPSBfUSwgdGFyZ2V0TmV0d29ya0lkID0gbWluaW9uLm5ldHdvcmtJRH0pOnNlbmQoKSBlbmQNCgkJCQkJQ2FzdFNwZWxsKF9RLCBtaW5pb24pIA0KCQkJCWVuZA0KCQkJCWlmIFNldHRpbmdzLmxhbmUubGFuZVIgYW5kIEdldERpc3RhbmNlKG1pbmlvbikgPD0gU2tpbGxSLnJhbmdlIHRoZW4gDQoJCQkJCWxvY2FsIEJlc3RQb3MsIEJlc3RIaXQgPSBHZXRCZXN0TGluZUZhcm1Qb3NpdGlvbihTa2lsbFIucmFuZ2UsIFNraWxsUi53aWR0aCwgZW5lbXlNaW5pb25zLm9iamVjdHMpDQoNCgkJCQkJaWYgQmVzdFBvcyB+PSBuaWwgdGhlbg0KCQkJCQkJaWYgVklQX1VTRVIgYW5kIFNldHRpbmdzLm1pc2MucGFja2V0cyB0aGVuIFBhY2tldCgiU19DQVNUIiwgeyBzcGVsbElkID0gX1IsIHRvWCA9IEJlc3RQb3MueCwgdG9ZID0gQmVzdFBvcy56LCBmcm9tWCA9IEJlc3RQb3MueCwgZnJvbVkgPSBCZXN0UG9zLnogfSk6c2VuZCgpIGVuZA0KCQkJCQkJQ2FzdFNwZWxsKF9SLCBCZXN0UG9zLngsIEJlc3RQb3MueikNCgkJCQkJZW5kDQoJCQkJZW5kDQoJCQllbmQJCSANCgkJZW5kDQoJZW5kDQplbmQNCg0KZnVuY3Rpb24gSnVuZ2xlQ2xlYXIoKQ0KCWlmIEp1bmdsZUNsZWFyS2V5IHRoZW4NCgkJbG9jYWwgSnVuZ2xlTW9iID0gR2V0SnVuZ2xlTW9iKCkNCgkJDQoJCWlmIEp1bmdsZU1vYiB+PSBuaWwgdGhlbg0KCQkJcURtZyA9IGdldERtZygiUSIsIEp1bmdsZU1vYiwgbXlIZXJvKSArIGdldERtZygiQUQiLCBKdW5nbGVNb2IsIG15SGVybykNCg0KCQkJaWYgU2V0dGluZ3MuanVuZ2xlLmp1bmdsZVEgYW5kIEdldERpc3RhbmNlKEp1bmdsZU1vYikgPD0gU2tpbGxRLnJhbmdlIGFuZCBTa2lsbFEucmVhZHkgdGhlbg0KCQkJCWlmIFZJUF9VU0VSIGFuZCBTZXR0aW5ncy5taXNjLnBhY2tldHMgdGhlbiBQYWNrZXQoIlNfQ0FTVCIsIHtzcGVsbElkID0gX1EsIHRhcmdldE5ldHdvcmtJZCA9IEp1bmdsZU1vYi5uZXR3b3JrSUR9KTpzZW5kKCkgZW5kDQoJCQkJQ2FzdFNwZWxsKF9RLCBKdW5nbGVNb2IpDQoJCQllbmQNCgkJCWlmIFNldHRpbmdzLmp1bmdsZS5qdW5nbGVFIGFuZCBHZXREaXN0YW5jZShKdW5nbGVNb2IpIDw9IFNraWxsRS5yYW5nZSBhbmQgU2tpbGxFLnJlYWR5IHRoZW4NCgkJCQlpZiBWSVBfVVNFUiBhbmQgU2V0dGluZ3MubWlzYy5wYWNrZXRzIHRoZW4gUGFja2V0KCJTX0NBU1QiLCB7c3BlbGxJZCA9IF9RLCB0YXJnZXROZXR3b3JrSWQgPSBKdW5nbGVNb2IubmV0d29ya0lEfSk6c2VuZCgpIGVuZA0KCQkJCUNhc3RTcGVsbChfRSwgSnVuZ2xlTW9iKQ0KCQkJZW5kDQoJCQlpZiBTZXR0aW5ncy5qdW5nbGUuanVuZ2xlVyBhbmQgR2V0RGlzdGFuY2UoSnVuZ2xlTW9iKSA8PSBTa2lsbFcucmFuZ2UgYW5kIFNraWxsVy5yZWFkeSB0aGVuDQoJCQkJaWYgVklQX1VTRVIgYW5kIFNldHRpbmdzLm1pc2MucGFja2V0cyB0aGVuIFBhY2tldCgiU19DQVNUIiwge3NwZWxsSWQgPSBfV30pOnNlbmQoKSBlbmQNCgkJCQlDYXN0U3BlbGwoX1cpDQoJCQllbmQNCgkJZW5kDQoJZW5kDQplbmQNCg0KZnVuY3Rpb24gQ2FzdFEodW5pdCkNCglpZiBTa2lsbFEucmVhZHkgYW5kIEdldERpc3RhbmNlKHVuaXQpIDw9IFNraWxsUS5yYW5nZSBhbmQgR2V0RGlzdGFuY2UodW5pdCkgPiBUcnVlUmFuZ2UoKSB0aGVuDQoJCWlmIFZJUF9VU0VSIGFuZCBTZXR0aW5ncy5taXNjLnBhY2tldHMgdGhlbiBQYWNrZXQoIlNfQ0FTVCIsIHtzcGVsbElkID0gX1EsIHRhcmdldE5ldHdvcmtJZCA9IHVuaXQubmV0d29ya0lEfSk6c2VuZCgpIGVuZA0KCQlDYXN0U3BlbGwoX1EsIHVuaXQpDQoJZW5kDQplbmQNCg0KZnVuY3Rpb24gQ2FzdFEyKHVuaXQpDQoJaWYgU2tpbGxRLnJlYWR5IGFuZCBHZXREaXN0YW5jZSh1bml0KSA8PSBTa2lsbFEucmFuZ2UgdGhlbg0KCQlpZiBWSVBfVVNFUiBhbmQgU2V0dGluZ3MubWlzYy5wYWNrZXRzIHRoZW4gUGFja2V0KCJTX0NBU1QiLCB7c3BlbGxJZCA9IF9RLCB0YXJnZXROZXR3b3JrSWQgPSB1bml0Lm5ldHdvcmtJRH0pOnNlbmQoKSBlbmQNCgkJQ2FzdFNwZWxsKF9RLCB1bml0KQ0KCWVuZA0KZW5kDQoNCmZ1bmN0aW9uIENhc3RXKHVuaXQpDQoJaWYgU2tpbGxXLnJlYWR5IGFuZCBHZXREaXN0YW5jZSh1bml0KSA8PSBTa2lsbFcucmFuZ2UgdGhlbg0KCQlpZiBWSVBfVVNFUiBhbmQgU2V0dGluZ3MubWlzYy5wYWNrZXRzIHRoZW4gUGFja2V0KCJTX0NBU1QiLCB7c3BlbGxJZCA9IF9XfSk6c2VuZCgpIGVuZA0KCQlDYXN0U3BlbGwoX1cpDQoJZW5kDQplbmQNCg0KZnVuY3Rpb24gQ2FzdEUodW5pdCkNCglpZiBTZXR0aW5ncy5jb21iby51c2VFID09IDEgdGhlbiByZXR1cm4gZW5kDQoJDQoJaWYgdW5pdCB+PSBuaWwgYW5kIEdldERpc3RhbmNlKHVuaXQpIDw9IFNraWxsRS5yYW5nZSBhbmQgU2tpbGxFLnJlYWR5IHRoZW4NCgkJaWYgU2V0dGluZ3MuY29tYm8udXNlRSA9PSAyIHRoZW4NCgkJCWlmIChteUhlcm8uaGVhbHRoIC8gbXlIZXJvLm1heEhlYWx0aCkgPCAodW5pdC5oZWFsdGggLyB1bml0Lm1heEhlYWx0aCkgdGhlbg0KCQkJCWlmIFZJUF9VU0VSIGFuZCBTZXR0aW5ncy5taXNjLnBhY2tldHMgdGhlbiBQYWNrZXQoIlNfQ0FTVCIsIHtzcGVsbElkID0gX0UsIHRhcmdldE5ldHdvcmtJZCA9IHVuaXQubmV0d29ya0lEfSk6c2VuZCgpIGVuZA0KCQkJCUNhc3RTcGVsbChfRSwgdW5pdCkNCgkJCWVuZA0KCQllbHNlaWYgU2V0dGluZ3MuY29tYm8udXNlRSA9PSAzIHRoZW4NCgkJCWlmIFZJUF9VU0VSIGFuZCBTZXR0aW5ncy5taXNjLnBhY2tldHMgdGhlbiBQYWNrZXQoIlNfQ0FTVCIsIHtzcGVsbElkID0gX0UsIHRhcmdldE5ldHdvcmtJZCA9IHVuaXQubmV0d29ya0lEfSk6c2VuZCgpIGVuZA0KCQkJQ2FzdFNwZWxsKF9FLCB1bml0KQ0KCQllbmQNCgllbmQNCmVuZA0KDQpmdW5jdGlvbiBDYXN0Uih1bml0KQkNCglpZiB1bml0IH49IG5pbCBhbmQgR2V0RGlzdGFuY2UodW5pdCkgPD0gU2tpbGxSLnJhbmdlIGFuZCBTa2lsbFIucmVhZHkgdGhlbg0KCQlDYXN0UG9zaXRpb24sICBIaXRDaGFuY2UsICBQb3NpdGlvbiA9IFZQOkdldExpbmVDYXN0UG9zaXRpb24odW5pdCwgU2tpbGxSLmRlbGF5LCBTa2lsbFIud2lkdGgsIFNraWxsUi5yYW5nZSwgU2tpbGxSLnNwZWVkLCBteUhlcm8pDQoJCQkJDQoJCWlmIEhpdENoYW5jZSA+PSAyIHRoZW4NCgkJCWlmIFZJUF9VU0VSIGFuZCBTZXR0aW5ncy5taXNjLnBhY2tldHMgdGhlbiBQYWNrZXQoIlNfQ0FTVCIsIHsgc3BlbGxJZCA9IF9SLCB0b1ggPSBDYXN0UG9zaXRpb24ueCwgdG9ZID0gQ2FzdFBvc2l0aW9uLnosIGZyb21YID0gQ2FzdFBvc2l0aW9uLngsIGZyb21ZID0gQ2FzdFBvc2l0aW9uLnogfSk6c2VuZCgpIGVuZA0KCQkJQ2FzdFNwZWxsKF9SLCBDYXN0UG9zaXRpb24ueCwgQ2FzdFBvc2l0aW9uLnopDQoJCWVuZA0KCWVuZA0KZW5kDQoNCmZ1bmN0aW9uIEtpbGxTdGVhbCgpDQoJZm9yIF8sIGVuZW15IGluIGlwYWlycyhHZXRFbmVteUhlcm9lcygpKSBkbw0KCQlxRG1nID0gZ2V0RG1nKCJRIiwgZW5lbXksIG15SGVybykgKyBnZXREbWcoIkFEIiwgZW5lbXksIG15SGVybykNCgkJZURtZyA9IGdldERtZygiRSIsIGVuZW15LCBteUhlcm8pDQoJCQ0KCQlpZiBWYWxpZFRhcmdldChlbmVteSkgYW5kIGVuZW15LnZpc2libGUgdGhlbg0KCQkJaWYgZW5lbXkuaGVhbHRoIDw9IHFEbWcgYW5kIEdldERpc3RhbmNlKGVuZW15KSA8PSBTa2lsbFEucmFuZ2UgdGhlbg0KCQkJCUNhc3RRMihlbmVteSkNCgkJCWVsc2VpZiBlbmVteS5oZWFsdGggPD0gcURtZyArIGVEbWcgYW5kIFNraWxsUS5yZWFkeSBhbmQgU2tpbGxFLnJlYWR5IGFuZCBHZXREaXN0YW5jZShlbmVteSkgPD0gU2tpbGxFLnJhbmdlIGFuZCBHZXREaXN0YW5jZShlbmVteSkgPD0gU2tpbGxRLnJhbmdlIHRoZW4NCgkJCQlDYXN0UTIoZW5lbXkpDQoJCQkJaWYgVklQX1VTRVIgYW5kIFNldHRpbmdzLm1pc2MucGFja2V0cyB0aGVuIFBhY2tldCgiU19DQVNUIiwge3NwZWxsSWQgPSBfRSwgdGFyZ2V0TmV0d29ya0lkID0gZW5lbXkubmV0d29ya0lEfSk6c2VuZCgpIGVuZA0KCQkJCUNhc3RTcGVsbChfRSwgZW5lbXkpDQoJCQllbHNlaWYgZW5lbXkuaGVhbHRoIDw9IGVEbWcgYW5kIFNraWxsRS5yZWFkeSBhbmQgR2V0RGlzdGFuY2UoZW5lbXkpIDw9IFNraWxsRS5yYW5nZSB0aGVuDQoJCQkJaWYgVklQX1VTRVIgYW5kIFNldHRpbmdzLm1pc2MucGFja2V0cyB0aGVuIFBhY2tldCgiU19DQVNUIiwge3NwZWxsSWQgPSBfRSwgdGFyZ2V0TmV0d29ya0lkID0gZW5lbXkubmV0d29ya0lEfSk6c2VuZCgpIGVuZA0KCQkJCUNhc3RTcGVsbChfRSwgZW5lbXkpDQoJCQllbmQNCg0KCQkJaWYgU2V0dGluZ3Mua3MuYXV0b0lnbml0ZSB0aGVuDQoJCQkJQXV0b0lnbml0ZShlbmVteSkNCgkJCWVuZA0KCQllbmQNCgllbmQNCmVuZA0KDQpmdW5jdGlvbiBBdXRvSWduaXRlKHVuaXQpDQoJaWYgVmFsaWRUYXJnZXQodW5pdCwgSWduaXRlLnJhbmdlKSBhbmQgdW5pdC5oZWFsdGggPD0gNTAgKyAoMjAgKiBteUhlcm8ubGV2ZWwpIHRoZW4NCgkJaWYgSWduaXRlLnJlYWR5IHRoZW4NCgkJCUNhc3RTcGVsbChJZ25pdGUuc2xvdCwgdW5pdCkNCgkJZW5kDQoJZW5kDQplbmQNCg0KZnVuY3Rpb24gQ2hlY2tzKCkNCglTa2lsbFEucmVhZHkgPSAobXlIZXJvOkNhblVzZVNwZWxsKF9RKSA9PSBSRUFEWSkNCglTa2lsbFcucmVhZHkgPSAobXlIZXJvOkNhblVzZVNwZWxsKF9XKSA9PSBSRUFEWSkNCglTa2lsbEUucmVhZHkgPSAobXlIZXJvOkNhblVzZVNwZWxsKF9FKSA9PSBSRUFEWSkNCglTa2lsbFIucmVhZHkgPSAobXlIZXJvOkNhblVzZVNwZWxsKF9SKSA9PSBSRUFEWSkNCgkNCglpZiBteUhlcm86R2V0U3BlbGxEYXRhKFNVTU1PTkVSXzEpLm5hbWU6ZmluZChJZ25pdGUubmFtZSkgdGhlbg0KCQlJZ25pdGUuc2xvdCA9IFNVTU1PTkVSXzENCgllbHNlaWYgbXlIZXJvOkdldFNwZWxsRGF0YShTVU1NT05FUl8yKS5uYW1lOmZpbmQoSWduaXRlLm5hbWUpIHRoZW4NCgkJSWduaXRlLnNsb3QgPSBTVU1NT05FUl8yDQoJZW5kDQoJDQoJSWduaXRlLnJlYWR5ID0gKElnbml0ZS5zbG90IH49IG5pbCBhbmQgbXlIZXJvOkNhblVzZVNwZWxsKElnbml0ZS5zbG90KSA9PSBSRUFEWSkNCgkNCglUYXJnZXRTZWxlY3Rvcjp1cGRhdGUoKQ0KCVRhcmdldCA9IEdldEN1c3RvbVRhcmdldCgpDQoJU09XaTpGb3JjZVRhcmdldChUYXJnZXQpDQoJDQoJaWYgVklQX1VTRVIgYW5kIFNldHRpbmdzLm1pc2Muc2tpbkxpc3QgdGhlbiBDaG9vc2VTa2luKCkgZW5kDQoJaWYgU2V0dGluZ3MuZHJhd2luZy5sZmMubGZjIHRoZW4gX0cuRHJhd0NpcmNsZSA9IERyYXdDaXJjbGUyIGVsc2UgX0cuRHJhd0NpcmNsZSA9IF9HLm9sZERyYXdDaXJjbGUgZW5kDQoJDQoJR2FtZW92ZXIoKQ0KZW5kDQoNCmZ1bmN0aW9uIElzTXlNYW5hTG93KG1vZGUpDQoJaWYgbW9kZSA9PSAiSGFyYXNzIiB0aGVuDQoJCWlmIG15SGVyby5tYW5hIDwgKG15SGVyby5tYXhNYW5hICogKCBTZXR0aW5ncy5oYXJhc3MuaGFyYXNzTWFuYSAvIDEwMCkpIHRoZW4NCgkJCXJldHVybiB0cnVlDQoJCWVsc2UNCgkJCXJldHVybiBmYWxzZQ0KCQllbmQNCgllbHNlaWYgbW9kZSA9PSAiQ2xlYW4iIHRoZW4NCgkJaWYgbXlIZXJvLm1hbmEgPCAobXlIZXJvLm1heE1hbmEgKiAoIFNldHRpbmdzLmxhbmUubGFuZU1hbmEgLyAxMDApKSB0aGVuDQoJCQlyZXR1cm4gdHJ1ZQ0KCQllbHNlDQoJCQlyZXR1cm4gZmFsc2UNCgkJZW5kDQoJZW5kDQplbmQNCg0KZnVuY3Rpb24gTWVudSgpDQoJU2V0dGluZ3MgPSBzY3JpcHRDb25maWcoIiAoztK1xL2jyNDUuM6qxOPQp8DNKWJ5IEIxbmsiLCAiRHJhY29uaXNJcmVsaWEiKQ0KCQ0KCVNldHRpbmdzOmFkZFN1Yk1lbnUoIiCh7qmsqayprKmsqayociAiLCAiY29tYm8xIikNCglTZXR0aW5nczphZGRTdWJNZW51KCIgqa4gwazV0NGhz+4gqa4gIiwgImNvbWJvIikNCgkJU2V0dGluZ3MuY29tYm86YWRkUGFyYW0oImNvbWJvS2V5IiwgICAiLS0gqa7Su7z8wazV0CAiLCBTQ1JJUFRfUEFSQU1fT05LRVlET1dOLCBmYWxzZSwgMzIpDQoJCVNldHRpbmdzLmNvbWJvOmFkZFBhcmFtKCJ1c2VSIiwgICAgICAgIi0tIKmuyrnTwyAoUikgIiwgU0NSSVBUX1BBUkFNX09OT0ZGLCB0cnVlKQ0KCQlTZXR0aW5ncy5jb21ibzphZGRQYXJhbSgidXNlRSIsICAgICAgICItLSCprsq508MgKEUpICIsIFNDUklQVF9QQVJBTV9MSVNULCAyLCB7ICItILK7yrnTwyAtIiwgIi0gtci0/dGj1M4gLSIsICItINfcysfKudPDIC0iIH0pDQoJCVNldHRpbmdzLmNvbWJvOmFkZFBhcmFtKCJjb21ib0l0ZW1zIiwgIi0tIKmuyrnTw87vxrcgIiwgU0NSSVBUX1BBUkFNX09OT0ZGLCB0cnVlKQ0KCQ0KCVNldHRpbmdzOmFkZFN1Yk1lbnUoIiCpriDJp8jF0aHP7iCpriAiLCAiaGFyYXNzIikNCgkJU2V0dGluZ3MuaGFyYXNzOmFkZFBhcmFtKCJoYXJhc3NLZXkiLCAgIi0tIKmu0ru8/MmnyMUgICAgIiwgU0NSSVBUX1BBUkFNX09OS0VZRE9XTiwgZmFsc2UsIEdldEtleSgiQyIpKQ0KCQlTZXR0aW5ncy5oYXJhc3M6YWRkUGFyYW0oInVzZVEiLCAgICAgICAiLS0gqa7KudPDIChRKSAgICAiLCBTQ1JJUFRfUEFSQU1fT05PRkYsIHRydWUpDQoJCVNldHRpbmdzLmhhcmFzczphZGRQYXJhbSgidXNlVyIsICAgICAgICItLSCprsq508MgKFcpICAgICIsIFNDUklQVF9QQVJBTV9PTk9GRiwgdHJ1ZSkNCgkJU2V0dGluZ3MuaGFyYXNzOmFkZFBhcmFtKCJoYXJhc3NNYW5hIiwgIi0tIKmu1+7QobeowabP3tbGICIsIFNDUklQVF9QQVJBTV9TTElDRSwgNTAsIDAsIDEwMCwgMCkNCg0KCVNldHRpbmdzOmFkZFN1Yk1lbnUoIiCpriDH5c/f0aHP7iCpriAiLCAibGFuZSIpDQoJCVNldHRpbmdzLmxhbmU6YWRkUGFyYW0oImxhbmVLZXkiLCAgIi0tIKmu0ru8/Mflz98gICAgICIsIFNDUklQVF9QQVJBTV9PTktFWURPV04sIGZhbHNlLCBHZXRLZXkoIlgiKSkNCgkJU2V0dGluZ3MubGFuZTphZGRQYXJhbSgibGFuZVEiLCAgICAiLS0gqa7KudPDIChRKSAgICAgIiwgU0NSSVBUX1BBUkFNX09OT0ZGLCB0cnVlKQ0KCQlTZXR0aW5ncy5sYW5lOmFkZFBhcmFtKCJsYW5lUiIsICAgICItLSCprsq508MgKFIpICAgICAiLCBTQ1JJUFRfUEFSQU1fT05PRkYsIHRydWUpDQoJCVNldHRpbmdzLmxhbmU6YWRkUGFyYW0oImxhbmVNYW5hIiwgIi0tIKmu1+7QobeowabP3tbGICIsIFNDUklQVF9QQVJBTV9TTElDRSwgMzAsIDAsIDEwMCwgMCkNCg0KCVNldHRpbmdzOmFkZFN1Yk1lbnUoIiCpriDH5dKw0aHP7iCpriAiLCAianVuZ2xlIikNCgkJU2V0dGluZ3MuanVuZ2xlOmFkZFBhcmFtKCJqdW5nbGVLZXkiLCAiLS0gqa7Su7z8x+XSsCAiLCBTQ1JJUFRfUEFSQU1fT05LRVlET1dOLCBmYWxzZSwgR2V0S2V5KCJYIikpDQoJCVNldHRpbmdzLmp1bmdsZTphZGRQYXJhbSgianVuZ2xlUSIsICAgIi0tIKmuyrnTwyAoUSkgIiwgU0NSSVBUX1BBUkFNX09OT0ZGLCB0cnVlKQ0KCQlTZXR0aW5ncy5qdW5nbGU6YWRkUGFyYW0oImp1bmdsZVciLCAgICItLSCprsq508MgKFcpICIsIFNDUklQVF9QQVJBTV9PTk9GRiwgdHJ1ZSkNCgkJU2V0dGluZ3MuanVuZ2xlOmFkZFBhcmFtKCJqdW5nbGVFIiwgICAiLS0gqa7KudPDIChFKSAiLCBTQ1JJUFRfUEFSQU1fT05PRkYsIGZhbHNlKQ0KCQkNCglTZXR0aW5nczphZGRTdWJNZW51KCIgqa4gu/fJsdGhz+4gqa4gIiwgImtzIikNCgkJU2V0dGluZ3Mua3M6YWRkUGFyYW0oImtpbGxTdGVhbCIsICAiLS0gqa7G9NPDx8DIy823ICIsIFNDUklQVF9QQVJBTV9PTk9GRiwgdHJ1ZSkNCgkJU2V0dGluZ3Mua3M6YWRkUGFyYW0oImF1dG9JZ25pdGUiLCAiLS0gqa6148i8x8DIy823ICIsIFNDUklQVF9QQVJBTV9PTk9GRiwgdHJ1ZSkNCgkJCQ0KCVNldHRpbmdzOmFkZFN1Yk1lbnUoIiCpriDP1Mq+0aHP7iCpriAiLCAiZHJhd2luZyIpCQ0KCQlTZXR0aW5ncy5kcmF3aW5nOmFkZFBhcmFtKCJtRHJhdyIsICAgIi0tIKmuvfvTw8v509C3ts6nICAiLCBTQ1JJUFRfUEFSQU1fT05PRkYsIGZhbHNlKQ0KCQlTZXR0aW5ncy5kcmF3aW5nOmFkZFBhcmFtKCJUYXJnZXQiLCAgIi0tIKmuz9TKvrHqvMfEv7HqICAiLCBTQ1JJUFRfUEFSQU1fT05PRkYsIHRydWUpDQoJCVNldHRpbmdzLmRyYXdpbmc6YWRkUGFyYW0oIm15SGVybyIsICAiLS0gqa7P1Mq+uaW797e2zqcgICIsIFNDUklQVF9QQVJBTV9PTk9GRiwgdHJ1ZSkNCgkJU2V0dGluZ3MuZHJhd2luZzphZGRQYXJhbSgibXlDb2xvciIsICItLSCprs/Uyr63ts6n0dXJqyAgIiwgU0NSSVBUX1BBUkFNX0NPTE9SLCB7MjU1LCA3NCwgMjYsIDI1NX0pDQoJCVNldHRpbmdzLmRyYXdpbmc6YWRkUGFyYW0oInFEcmF3IiwgICAiLS0gqa7P1Mq+IChRKSC3ts6nICIsIFNDUklQVF9QQVJBTV9PTk9GRiwgdHJ1ZSkNCgkJU2V0dGluZ3MuZHJhd2luZzphZGRQYXJhbSgicUNvbG9yIiwgICItLSCprs/Uyr4gKFEpINHVyasgIiwgU0NSSVBUX1BBUkFNX0NPTE9SLCB7MjU1LCA3NCwgMjYsIDI1NX0pDQoJCVNldHRpbmdzLmRyYXdpbmc6YWRkUGFyYW0oImVEcmF3IiwgICAiLS0gqa7P1Mq+IChFKSC3ts6nICIsIFNDUklQVF9QQVJBTV9PTk9GRiwgdHJ1ZSkNCgkJU2V0dGluZ3MuZHJhd2luZzphZGRQYXJhbSgiZUNvbG9yIiwgICItLSCprs/Uyr4gKEUpINHVyasgIiwgU0NSSVBUX1BBUkFNX0NPTE9SLCB7MjU1LCA3NCwgMjYsIDI1NX0pDQoJCVNldHRpbmdzLmRyYXdpbmc6YWRkUGFyYW0oInJEcmF3IiwgICAiLS0gqa7P1Mq+IChSKSC3ts6nICIsIFNDUklQVF9QQVJBTV9PTk9GRiwgdHJ1ZSkNCgkJU2V0dGluZ3MuZHJhd2luZzphZGRQYXJhbSgickNvbG9yIiwgICItLSCprs/Uyr4gKFIpINHVyasgIiwgU0NSSVBUX1BBUkFNX0NPTE9SLCB7MjU1LCA3NCwgMjYsIDI1NX0pDQoJCQ0KCQlTZXR0aW5ncy5kcmF3aW5nOmFkZFN1Yk1lbnUoIi0tIKmuzt7R07PZt7bOp8imIiwgImxmYyIpCQ0KCQkJU2V0dGluZ3MuZHJhd2luZy5sZmM6YWRkUGFyYW0oImxmYyIsICAgIi0tIKmuxvTTw87e0dOz2cimICIsIFNDUklQVF9QQVJBTV9PTk9GRiwgZmFsc2UpDQoJCQlTZXR0aW5ncy5kcmF3aW5nLmxmYzphZGRQYXJhbSgiQ0wiLCAgICAiLS0gqa7IptfT1srBvyAgICAgIiwgNCwgMTUwMCwgNzUsIDIwMDAsIDApDQoJCQlTZXR0aW5ncy5kcmF3aW5nLmxmYzphZGRQYXJhbSgiV2lkdGgiLCAiLS0gqa7IptfTv+22yCAgICAgIiwgNCwgMSwgMSwgMTAsIDApDQoJDQoJU2V0dGluZ3M6YWRkU3ViTWVudSgiIKmuILjfvLbRoc/uIKmuICIsICJtaXNjIikNCgkJU2V0dGluZ3MubWlzYzphZGRQYXJhbSgicGFja2V0cyIsICAiLS0gqa7KudPDyv2+3bD8ICAgICAiLCBTQ1JJUFRfUEFSQU1fT05PRkYsIHRydWUpDQoJCVNldHRpbmdzLm1pc2M6YWRkUGFyYW0oInNraW5MaXN0IiwgIi0tIKmuyrnTw9fUtqjS5cakt/QgIiwgU0NSSVBUX1BBUkFNX0xJU1QsIDUsIHsgIk5pZ2h0YmxhZGUgSXJlbGlhIiwgIkF2aWF0b3IgSXJlbGlhIiwgIkluZmlsdHJhdG9yIElyZWxpYSIsICJGcm9zdGJsYWRlIElyZWxpYSIsICJDbGFzc2ljIiB9KQ0KCQ0KCVNldHRpbmdzOmFkZFN1Yk1lbnUoIiCpriDX37+z0aHP7iCpriAiLCAiT3Jid2Fsa2luZyIpDQoJCVNPV2k6TG9hZFRvTWVudShTZXR0aW5ncy5PcmJ3YWxraW5nKQ0KDQoJU2V0dGluZ3M6YWRkU3ViTWVudSgiIKmuIL3Fsb66uruvIKHuIGJ5IEIxbmsgICAgICAgIiwgInNlcDEiKQ0KCVNldHRpbmdzOmFkZFN1Yk1lbnUoIiCpriC4/Lbgt9bP7SCpriBRyLo6Mzg0MjMyMzQ3ICIsICJzZXAyIikNCglTZXR0aW5nczphZGRTdWJNZW51KCIgqHSprKmsqayprKmsqHMiLCAic2VwMyIpDQoJDQoJVGFyZ2V0U2VsZWN0b3IgPSBUYXJnZXRTZWxlY3RvcihUQVJHRVRfTEVTU19DQVNULCBTa2lsbFEucmFuZ2UsIERBTUFHRV9QSFlTSUNBTCwgdHJ1ZSkNCglUYXJnZXRTZWxlY3Rvci5uYW1lID0gIklyZWxpYSINCglTZXR0aW5nczphZGRUUyhUYXJnZXRTZWxlY3RvcikNCmVuZA0KDQpmdW5jdGlvbiBWYXJpYWJsZXMoKQ0KCVNraWxsUSA9IHsgbmFtZSA9ICJCbGFkZXN1cmdlIiwgcmFuZ2UgPSA2NTAsIGRlbGF5ID0gbmlsLCBzcGVlZCA9IG5pbCwgd2lkdGggPSBuaWwsIHJlYWR5ID0gZmFsc2UgfQ0KCVNraWxsVyA9IHsgbmFtZSA9ICJIaXRlbiBTdHlsZSIsIHJhbmdlID0gVHJ1ZVJhbmdlKCksIGRlbGF5ID0gbmlsLCBzcGVlZCA9IG5pbCwgd2lkdGggPSBuaWwsIHJlYWR5ID0gZmFsc2UgfQ0KCVNraWxsRSA9IHsgbmFtZSA9ICJFcXVpbGlicml1bSBTdHJpa2UiLCByYW5nZSA9IDQyNSwgZGVsYXkgPSBuaWwsIHNwZWVkID0gbmlsLCB3aWR0aCA9IG5pbCwgcmVhZHkgPSBmYWxzZSB9DQoJU2tpbGxSID0geyBuYW1lID0gIlRyYW5zY2VuZGVudCBCbGFkZXMiLCByYW5nZSA9IDEwMDAsIGRlbGF5ID0gMC4yNSwgc3BlZWQgPSAxMjAwLCB3aWR0aCA9IDgwLCByZWFkeSA9IGZhbHNlIH0NCglJZ25pdGUgPSB7IG5hbWUgPSAiU3VtbW9uZXJEb3QiLCByYW5nZSA9IDYwMCwgc2xvdCA9IG5pbCB9DQoJDQoJZW5lbXlNaW5pb25zID0gbWluaW9uTWFuYWdlcihNSU5JT05fRU5FTVksIFNraWxsUS5yYW5nZSwgbXlIZXJvLCBNSU5JT05fU09SVF9IRUFMVEhfQVNDKQ0KCQ0KCVZQID0gVlByZWRpY3Rpb24oKQ0KCVNPV2kgPSBTT1coVlApDQoJDQoJSnVuZ2xlTW9icyA9IHt9DQoJSnVuZ2xlRm9jdXNNb2JzID0ge30NCgkNCglsYXN0U2tpbiA9IDANCgkNCglpZiBHZXRHYW1lKCkubWFwLnNob3J0TmFtZSA9PSAidHdpc3RlZFRyZWVsaW5lIiB0aGVuDQoJCVR3aXN0ZWRUcmVlbGluZSA9IHRydWUgDQoJZWxzZQ0KCQlUd2lzdGVkVHJlZWxpbmUgPSBmYWxzZQ0KCWVuZA0KCQ0KCV9HLm9sZERyYXdDaXJjbGUgPSByYXdnZXQoX0csICdEcmF3Q2lyY2xlJykNCglfRy5EcmF3Q2lyY2xlID0gRHJhd0NpcmNsZTINCgkNCglwcmlvcml0eVRhYmxlID0gew0KCQkJQVAgPSB7DQoJCQkJIkFubmllIiwgIkFocmkiLCAiQWthbGkiLCAiQW5pdmlhIiwgIkFubmllIiwgIkJyYW5kIiwgIkNhc3Npb3BlaWEiLCAiRGlhbmEiLCAiRXZlbHlubiIsICJGaWRkbGVTdGlja3MiLCAiRml6eiIsICJHcmFnYXMiLCAiSGVpbWVyZGluZ2VyIiwgIkthcnRodXMiLA0KCQkJCSJLYXNzYWRpbiIsICJLYXRhcmluYSIsICJLYXlsZSIsICJLZW5uZW4iLCAiTGVibGFuYyIsICJMaXNzYW5kcmEiLCAiTHV4IiwgIk1hbHphaGFyIiwgIk1vcmRla2Fpc2VyIiwgIk1vcmdhbmEiLCAiTmlkYWxlZSIsICJPcmlhbm5hIiwNCgkJCQkiUnl6ZSIsICJTaW9uIiwgIlN3YWluIiwgIlN5bmRyYSIsICJUZWVtbyIsICJUd2lzdGVkRmF0ZSIsICJWZWlnYXIiLCAiVmlrdG9yIiwgIlZsYWRpbWlyIiwgIlhlcmF0aCIsICJaaWdncyIsICJaeXJhIiwgIlZlbGtveiINCgkJCX0sDQoJCQkNCgkJCVN1cHBvcnQgPSB7DQoJCQkJIkFsaXN0YXIiLCAiQmxpdHpjcmFuayIsICJKYW5uYSIsICJLYXJtYSIsICJMZW9uYSIsICJMdWx1IiwgIk5hbWkiLCAiTnVudSIsICJTb25hIiwgIlNvcmFrYSIsICJUYXJpYyIsICJUaHJlc2giLCAiWmlsZWFuIiwgIkJyYXVtIg0KCQkJfSwNCgkJCQ0KCQkJVGFuayA9IHsNCgkJCQkiQW11bXUiLCAiQ2hvZ2F0aCIsICJEck11bmRvIiwgIkdhbGlvIiwgIkhlY2FyaW0iLCAiTWFscGhpdGUiLCAiTWFva2FpIiwgIk5hc3VzIiwgIlJhbW11cyIsICJTZWp1YW5pIiwgIk5hdXRpbHVzIiwgIlNoZW4iLCAiU2luZ2VkIiwgIlNrYXJuZXIiLCAiVm9saWJlYXIiLA0KCQkJCSJXYXJ3aWNrIiwgIllvcmljayIsICJaYWMiDQoJCQl9LA0KCQkJDQoJCQlBRF9DYXJyeSA9IHsNCgkJCQkiQXNoZSIsICJDYWl0bHluIiwgIkNvcmtpIiwgIkRyYXZlbiIsICJFenJlYWwiLCAiR3JhdmVzIiwgIkpheWNlIiwgIkppbngiLCAiS29nTWF3IiwgIkx1Y2lhbiIsICJNYXN0ZXJZaSIsICJNaXNzRm9ydHVuZSIsICJQYW50aGVvbiIsICJRdWlubiIsICJTaGFjbyIsICJTaXZpciIsDQoJCQkJIlRhbG9uIiwiVHJ5bmRhbWVyZSIsICJUcmlzdGFuYSIsICJUd2l0Y2giLCAiVXJnb3QiLCAiVmFydXMiLCAiVmF5bmUiLCAiWWFzdW8iLCAiWmVkIg0KCQkJfSwNCgkJCQ0KCQkJQnJ1aXNlciA9IHsNCgkJCQkiQWF0cm94IiwgIkRhcml1cyIsICJFbGlzZSIsICJGaW9yYSIsICJHYW5ncGxhbmsiLCAiR2FyZW4iLCAiSXJlbGlhIiwgIkphcnZhbklWIiwgIkpheCIsICJLaGF6aXgiLCAiTGVlU2luIiwgIk5vY3R1cm5lIiwgIk9sYWYiLCAiUG9wcHkiLA0KCQkJCSJSZW5la3RvbiIsICJSZW5nYXIiLCAiUml2ZW4iLCAiUnVtYmxlIiwgIlNoeXZhbmEiLCAiVHJ1bmRsZSIsICJVZHlyIiwgIlZpIiwgIk1vbmtleUtpbmciLCAiWGluWmhhbyINCgkJCX0NCgl9DQoNCglJdGVtcyA9IHsNCgkJQlJLID0geyBpZCA9IDMxNTMsIHJhbmdlID0gNDUwLCByZXFUYXJnZXQgPSB0cnVlLCBzbG90ID0gbmlsIH0sDQoJCUJXQyA9IHsgaWQgPSAzMTQ0LCByYW5nZSA9IDQwMCwgcmVxVGFyZ2V0ID0gdHJ1ZSwgc2xvdCA9IG5pbCB9LA0KCQlERkcgPSB7IGlkID0gMzEyOCwgcmFuZ2UgPSA3NTAsIHJlcVRhcmdldCA9IHRydWUsIHNsb3QgPSBuaWwgfSwNCgkJSEdCID0geyBpZCA9IDMxNDYsIHJhbmdlID0gNDAwLCByZXFUYXJnZXQgPSB0cnVlLCBzbG90ID0gbmlsIH0sDQoJCVJTSCA9IHsgaWQgPSAzMDc0LCByYW5nZSA9IDM1MCwgcmVxVGFyZ2V0ID0gZmFsc2UsIHNsb3QgPSBuaWwgfSwNCgkJU1REID0geyBpZCA9IDMxMzEsIHJhbmdlID0gMzUwLCByZXFUYXJnZXQgPSBmYWxzZSwgc2xvdCA9IG5pbCB9LA0KCQlUTVQgPSB7IGlkID0gMzA3NywgcmFuZ2UgPSAzNTAsIHJlcVRhcmdldCA9IGZhbHNlLCBzbG90ID0gbmlsIH0sDQoJCVlHQiA9IHsgaWQgPSAzMTQyLCByYW5nZSA9IDM1MCwgcmVxVGFyZ2V0ID0gZmFsc2UsIHNsb3QgPSBuaWwgfSwNCgkJQkZUID0geyBpZCA9IDMxODgsIHJhbmdlID0gNzUwLCByZXFUYXJnZXQgPSB0cnVlLCBzbG90ID0gbmlsIH0sDQoJCVJORCA9IHsgaWQgPSAzMTQzLCByYW5nZSA9IDI3NSwgcmVxVGFyZ2V0ID0gZmFsc2UsIHNsb3QgPSBuaWwgfQ0KCX0NCgkNCglpZiBub3QgVHdpc3RlZFRyZWVsaW5lIHRoZW4NCgkJSnVuZ2xlTW9iTmFtZXMgPSB7IA0KCQkJWyJXb2xmOC4xLjIiXQkJCT0gdHJ1ZSwNCgkJCVsiV29sZjguMS4zIl0JCQk9IHRydWUsDQoJCQlbIllvdW5nTGl6YXJkNy4xLjIiXQk9IHRydWUsDQoJCQlbIllvdW5nTGl6YXJkNy4xLjMiXQk9IHRydWUsDQoJCQlbIkxlc3NlcldyYWl0aDkuMS4zIl0JPSB0cnVlLA0KCQkJWyJMZXNzZXJXcmFpdGg5LjEuMiJdCT0gdHJ1ZSwNCgkJCVsiTGVzc2VyV3JhaXRoOS4xLjQiXQk9IHRydWUsDQoJCQlbIllvdW5nTGl6YXJkMTAuMS4yIl0JPSB0cnVlLA0KCQkJWyJZb3VuZ0xpemFyZDEwLjEuMyJdCT0gdHJ1ZSwNCgkJCVsiU21hbGxHb2xlbTExLjEuMSJdCT0gdHJ1ZSwNCgkJCVsiV29sZjIuMS4yIl0JCQk9IHRydWUsDQoJCQlbIldvbGYyLjEuMyJdCQkJPSB0cnVlLA0KCQkJWyJZb3VuZ0xpemFyZDEuMS4yIl0JPSB0cnVlLA0KCQkJWyJZb3VuZ0xpemFyZDEuMS4zIl0JPSB0cnVlLA0KCQkJWyJMZXNzZXJXcmFpdGgzLjEuMyJdCT0gdHJ1ZSwNCgkJCVsiTGVzc2VyV3JhaXRoMy4xLjIiXQk9IHRydWUsDQoJCQlbIkxlc3NlcldyYWl0aDMuMS40Il0JPSB0cnVlLA0KCQkJWyJZb3VuZ0xpemFyZDQuMS4yIl0JPSB0cnVlLA0KCQkJWyJZb3VuZ0xpemFyZDQuMS4zIl0JPSB0cnVlLA0KCQkJWyJTbWFsbEdvbGVtNS4xLjEiXQkJPSB0cnVlDQoJCX0NCgkJDQoJCUZvY3VzSnVuZ2xlTmFtZXMgPSB7DQoJCQlbIkRyYWdvbjYuMS4xIl0JCQk9IHRydWUsDQoJCQlbIldvcm0xMi4xLjEiXQkJCT0gdHJ1ZSwNCgkJCVsiR2lhbnRXb2xmOC4xLjEiXQkJPSB0cnVlLA0KCQkJWyJBbmNpZW50R29sZW03LjEuMSJdCT0gdHJ1ZSwNCgkJCVsiV3JhaXRoOS4xLjEiXQkJCT0gdHJ1ZSwNCgkJCVsiTGl6YXJkRWxkZXIxMC4xLjEiXQk9IHRydWUsDQoJCQlbIkdvbGVtMTEuMS4yIl0JCQk9IHRydWUsDQoJCQlbIkdpYW50V29sZjIuMS4xIl0JCT0gdHJ1ZSwNCgkJCVsiQW5jaWVudEdvbGVtMS4xLjEiXQk9IHRydWUsDQoJCQlbIldyYWl0aDMuMS4xIl0JCQk9IHRydWUsDQoJCQlbIkxpemFyZEVsZGVyNC4xLjEiXQk9IHRydWUsDQoJCQlbIkdvbGVtNS4xLjIiXQkJCT0gdHJ1ZSwNCgkJCVsiR3JlYXRXcmFpdGgxMy4xLjEiXQk9IHRydWUsDQoJCQlbIkdyZWF0V3JhaXRoMTQuMS4xIl0JPSB0cnVlDQoJCX0NCgllbHNlDQoJCUZvY3VzSnVuZ2xlTmFtZXMgPSB7DQoJCQlbIlRUX05XcmFpdGgxLjEuMSJdCQkJPSB0cnVlLA0KCQkJWyJUVF9OR29sZW0yLjEuMSJdCQkJPSB0cnVlLA0KCQkJWyJUVF9OV29sZjMuMS4xIl0JCQk9IHRydWUsDQoJCQlbIlRUX05XcmFpdGg0LjEuMSJdCQkJPSB0cnVlLA0KCQkJWyJUVF9OR29sZW01LjEuMSJdCQkJPSB0cnVlLA0KCQkJWyJUVF9OV29sZjYuMS4xIl0JCQk9IHRydWUsDQoJCQlbIlRUX1NwaWRlcmJvc3M4LjEuMSJdCQk9IHRydWUNCgkJfQkJDQoJCUp1bmdsZU1vYk5hbWVzID0gew0KCQkJWyJUVF9OV3JhaXRoMjEuMS4yIl0JCT0gdHJ1ZSwNCgkJCVsiVFRfTldyYWl0aDIxLjEuMyJdCQk9IHRydWUsDQoJCQlbIlRUX05Hb2xlbTIyLjEuMiJdCQkJPSB0cnVlLA0KCQkJWyJUVF9OV29sZjIzLjEuMiJdCQkJPSB0cnVlLA0KCQkJWyJUVF9OV29sZjIzLjEuMyJdCQkJPSB0cnVlLA0KCQkJWyJUVF9OV3JhaXRoMjQuMS4yIl0JCT0gdHJ1ZSwNCgkJCVsiVFRfTldyYWl0aDI0LjEuMyJdCQk9IHRydWUsDQoJCQlbIlRUX05Hb2xlbTI1LjEuMSJdCQkJPSB0cnVlLA0KCQkJWyJUVF9OV29sZjI2LjEuMiJdCQkJPSB0cnVlLA0KCQkJWyJUVF9OV29sZjI2LjEuMyJdCQkJPSB0cnVlDQoJCX0NCgllbmQNCgkJDQoJZm9yIGkgPSAwLCBvYmpNYW5hZ2VyLm1heE9iamVjdHMgZG8NCgkJbG9jYWwgb2JqZWN0ID0gb2JqTWFuYWdlcjpnZXRPYmplY3QoaSkNCgkJaWYgb2JqZWN0IGFuZCBvYmplY3QudmFsaWQgYW5kIG5vdCBvYmplY3QuZGVhZCB0aGVuDQoJCQlpZiBGb2N1c0p1bmdsZU5hbWVzW29iamVjdC5uYW1lXSB0aGVuDQoJCQkJSnVuZ2xlRm9jdXNNb2JzWyNKdW5nbGVGb2N1c01vYnMrMV0gPSBvYmplY3QNCgkJCWVsc2VpZiBKdW5nbGVNb2JOYW1lc1tvYmplY3QubmFtZV0gdGhlbg0KCQkJCUp1bmdsZU1vYnNbI0p1bmdsZU1vYnMrMV0gPSBvYmplY3QNCgkJCWVuZA0KCQllbmQNCgllbmQNCmVuZA0KDQpmdW5jdGlvbiBTZXRQcmlvcml0eSh0YWJsZSwgaGVybywgcHJpb3JpdHkpDQoJZm9yIGk9MSwgI3RhYmxlLCAxIGRvDQoJCWlmIGhlcm8uY2hhck5hbWU6ZmluZCh0YWJsZVtpXSkgfj0gbmlsIHRoZW4NCgkJCVRTX1NldEhlcm9Qcmlvcml0eShwcmlvcml0eSwgaGVyby5jaGFyTmFtZSkNCgkJZW5kDQoJZW5kDQplbmQNCg0KZnVuY3Rpb24gYXJyYW5nZVByaW9yaXR5cygpDQoJCWZvciBpLCBlbmVteSBpbiBpcGFpcnMoR2V0RW5lbXlIZXJvZXMoKSkgZG8NCgkJU2V0UHJpb3JpdHkocHJpb3JpdHlUYWJsZS5BRF9DYXJyeSwgZW5lbXksIDEpDQoJCVNldFByaW9yaXR5KHByaW9yaXR5VGFibGUuQVAsCSAgIGVuZW15LCAyKQ0KCQlTZXRQcmlvcml0eShwcmlvcml0eVRhYmxlLlN1cHBvcnQsICBlbmVteSwgMykNCgkJU2V0UHJpb3JpdHkocHJpb3JpdHlUYWJsZS5CcnVpc2VyLCAgZW5lbXksIDQpDQoJCVNldFByaW9yaXR5KHByaW9yaXR5VGFibGUuVGFuaywJIGVuZW15LCA1KQ0KCQllbmQNCmVuZA0KDQpmdW5jdGlvbiBhcnJhbmdlUHJpb3JpdHlzVFQoKQ0KICAgICAgICBmb3IgaSwgZW5lbXkgaW4gaXBhaXJzKEdldEVuZW15SGVyb2VzKCkpIGRvDQoJCVNldFByaW9yaXR5KHByaW9yaXR5VGFibGUuQURfQ2FycnksIGVuZW15LCAxKQ0KCQlTZXRQcmlvcml0eShwcmlvcml0eVRhYmxlLkFQLCAgICAgICBlbmVteSwgMSkNCgkJU2V0UHJpb3JpdHkocHJpb3JpdHlUYWJsZS5TdXBwb3J0LCAgZW5lbXksIDIpDQoJCVNldFByaW9yaXR5KHByaW9yaXR5VGFibGUuQnJ1aXNlciwgIGVuZW15LCAyKQ0KCQlTZXRQcmlvcml0eShwcmlvcml0eVRhYmxlLlRhbmssICAgICBlbmVteSwgMykNCiAgICAgICAgZW5kDQplbmQNCg0KZnVuY3Rpb24gVXNlSXRlbXModW5pdCkNCglpZiB1bml0IH49IG5pbCB0aGVuDQoJCWZvciBfLCBpdGVtIGluIHBhaXJzKEl0ZW1zKSBkbw0KCQkJaXRlbS5zbG90ID0gR2V0SW52ZW50b3J5U2xvdEl0ZW0oaXRlbS5pZCkNCgkJCWlmIGl0ZW0uc2xvdCB+PSBuaWwgdGhlbg0KCQkJCWlmIGl0ZW0ucmVxVGFyZ2V0IGFuZCBHZXREaXN0YW5jZSh1bml0KSA8IGl0ZW0ucmFuZ2UgdGhlbg0KCQkJCQlDYXN0U3BlbGwoaXRlbS5zbG90LCB1bml0KQ0KCQkJCWVsc2VpZiBub3QgaXRlbS5yZXFUYXJnZXQgdGhlbg0KCQkJCQlpZiAoR2V0RGlzdGFuY2UodW5pdCkgLSBnZXRIaXRCb3hSYWRpdXMobXlIZXJvKSAtIGdldEhpdEJveFJhZGl1cyh1bml0KSkgPCA1MCB0aGVuDQoJCQkJCQlDYXN0U3BlbGwoaXRlbS5zbG90KQ0KCQkJCQllbmQNCgkJCQllbmQNCgkJCWVuZA0KCQllbmQNCgllbmQNCmVuZA0KDQpmdW5jdGlvbiBnZXRIaXRCb3hSYWRpdXModGFyZ2V0KQ0KICAgIHJldHVybiBHZXREaXN0YW5jZSh0YXJnZXQubWluQkJveCwgdGFyZ2V0Lm1heEJCb3gpLzINCmVuZA0KDQpmdW5jdGlvbiBQcmlvcml0eU9uTG9hZCgpDQoJaWYgaGVyb01hbmFnZXIuaUNvdW50IDwgMTAgb3IgKFR3aXN0ZWRUcmVlbGluZSBhbmQgaGVyb01hbmFnZXIuaUNvdW50IDwgNikgdGhlbg0KCQlwcmludCgiPGI+PGZvbnQgY29sb3I9XCIjRkY5OTAwXCI+SW5jb21wYXJhYmxlIElyZWxpYTo8L2ZvbnQ+PC9iPiA8Zm9udCBjb2xvcj1cIiNGRjAwMDBcIj5Ub28gZmV3IGNoYW1waW9ucyB0byBhcnJhbmdlIHByaW9yaXR5LjwvZm9udD4iKQ0KCWVsc2VpZiBoZXJvTWFuYWdlci5pQ291bnQgPT0gNiB0aGVuDQoJCWFycmFuZ2VQcmlvcml0eXNUVCgpDQogICAgZWxzZQ0KCQlhcnJhbmdlUHJpb3JpdHlzKCkNCgllbmQNCmVuZA0KDQpmdW5jdGlvbiBHZXRKdW5nbGVNb2IoKQ0KCWZvciBfLCBNb2IgaW4gcGFpcnMoSnVuZ2xlRm9jdXNNb2JzKSBkbw0KCQlpZiBWYWxpZFRhcmdldChNb2IsIFNraWxsUS5yYW5nZSkgdGhlbiByZXR1cm4gTW9iIGVuZA0KCWVuZA0KCWZvciBfLCBNb2IgaW4gcGFpcnMoSnVuZ2xlTW9icykgZG8NCgkJaWYgVmFsaWRUYXJnZXQoTW9iLCBTa2lsbFEucmFuZ2UpIHRoZW4gcmV0dXJuIE1vYiBlbmQNCgllbmQNCmVuZA0KDQpmdW5jdGlvbiBPbkNyZWF0ZU9iaihvYmopDQoJaWYgb2JqLnZhbGlkIHRoZW4NCgkJaWYgRm9jdXNKdW5nbGVOYW1lc1tvYmoubmFtZV0gdGhlbg0KCQkJSnVuZ2xlRm9jdXNNb2JzWyNKdW5nbGVGb2N1c01vYnMrMV0gPSBvYmoNCgkJZWxzZWlmIEp1bmdsZU1vYk5hbWVzW29iai5uYW1lXSB0aGVuDQoJCQlKdW5nbGVNb2JzWyNKdW5nbGVNb2JzKzFdID0gb2JqDQoJCWVuZA0KCWVuZA0KZW5kDQoNCmZ1bmN0aW9uIE9uRGVsZXRlT2JqKG9iaikNCglmb3IgaSwgTW9iIGluIHBhaXJzKEp1bmdsZU1vYnMpIGRvDQoJCWlmIG9iai5uYW1lID09IE1vYi5uYW1lIHRoZW4NCgkJCXRhYmxlLnJlbW92ZShKdW5nbGVNb2JzLCBpKQ0KCQllbmQNCgllbmQNCglmb3IgaSwgTW9iIGluIHBhaXJzKEp1bmdsZUZvY3VzTW9icykgZG8NCgkJaWYgb2JqLm5hbWUgPT0gTW9iLm5hbWUgdGhlbg0KCQkJdGFibGUucmVtb3ZlKEp1bmdsZUZvY3VzTW9icywgaSkNCgkJZW5kDQoJZW5kDQplbmQNCg0KZnVuY3Rpb24gR2V0QmVzdExpbmVGYXJtUG9zaXRpb24ocmFuZ2UsIHdpZHRoLCBvYmplY3RzKQ0KICAgIGxvY2FsIEJlc3RQb3MgDQogICAgbG9jYWwgQmVzdEhpdCA9IDANCiAgICBmb3IgaSwgb2JqZWN0IGluIGlwYWlycyhvYmplY3RzKSBkbw0KICAgICAgICBsb2NhbCBFbmRQb3MgPSBWZWN0b3IobXlIZXJvLnZpc2lvblBvcykgKyByYW5nZSAqIChWZWN0b3Iob2JqZWN0KSAtIFZlY3RvcihteUhlcm8udmlzaW9uUG9zKSk6bm9ybWFsaXplZCgpDQogICAgICAgIGxvY2FsIGhpdCA9IENvdW50T2JqZWN0c09uTGluZVNlZ21lbnQobXlIZXJvLnZpc2lvblBvcywgRW5kUG9zLCB3aWR0aCwgb2JqZWN0cykNCiAgICAgICAgaWYgaGl0ID4gQmVzdEhpdCB0aGVuDQogICAgICAgICAgICBCZXN0SGl0ID0gaGl0DQogICAgICAgICAgICBCZXN0UG9zID0gVmVjdG9yKG9iamVjdCkNCiAgICAgICAgICAgIGlmIEJlc3RIaXQgPT0gI29iamVjdHMgdGhlbg0KICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgIGVuZA0KICAgICAgICAgZW5kDQogICAgZW5kDQoNCiAgICByZXR1cm4gQmVzdFBvcywgQmVzdEhpdA0KZW5kDQoNCmZ1bmN0aW9uIENvdW50T2JqZWN0c09uTGluZVNlZ21lbnQoU3RhcnRQb3MsIEVuZFBvcywgd2lkdGgsIG9iamVjdHMpDQogICAgbG9jYWwgbiA9IDANCiAgICBmb3IgaSwgb2JqZWN0IGluIGlwYWlycyhvYmplY3RzKSBkbw0KICAgICAgICBsb2NhbCBwb2ludFNlZ21lbnQsIHBvaW50TGluZSwgaXNPblNlZ21lbnQgPSBWZWN0b3JQb2ludFByb2plY3Rpb25PbkxpbmVTZWdtZW50KFN0YXJ0UG9zLCBFbmRQb3MsIG9iamVjdCkNCiAgICAgICAgaWYgaXNPblNlZ21lbnQgYW5kIEdldERpc3RhbmNlU3FyKHBvaW50U2VnbWVudCwgb2JqZWN0KSA8IHdpZHRoICogd2lkdGggdGhlbg0KICAgICAgICAgICAgbiA9IG4gKyAxDQogICAgICAgIGVuZA0KICAgIGVuZA0KDQogICAgcmV0dXJuIG4NCmVuZA0KDQpmdW5jdGlvbiBHZXRDdXN0b21UYXJnZXQoKQ0KIAlUYXJnZXRTZWxlY3Rvcjp1cGRhdGUoKSAJDQogICAgaWYgX0cuTU1BX1RhcmdldCBhbmQgX0cuTU1BX1RhcmdldC50eXBlID09IG15SGVyby50eXBlIHRoZW4gcmV0dXJuIF9HLk1NQV9UYXJnZXQgZW5kDQogICAgaWYgX0cuQXV0b0NhcnJ5IGFuZCBfRy5BdXRvQ2FycnkuQ3Jvc3NoYWlyIGFuZCBfRy5BdXRvQ2FycnkuQXR0YWNrX0Nyb3NzaGFpciBhbmQgX0cuQXV0b0NhcnJ5LkF0dGFja19Dcm9zc2hhaXIudGFyZ2V0IGFuZCBfRy5BdXRvQ2FycnkuQXR0YWNrX0Nyb3NzaGFpci50YXJnZXQudHlwZSA9PSBteUhlcm8udHlwZSB0aGVuIHJldHVybiBfRy5BdXRvQ2FycnkuQXR0YWNrX0Nyb3NzaGFpci50YXJnZXQgZW5kDQoJcmV0dXJuIFRhcmdldFNlbGVjdG9yLnRhcmdldA0KZW5kDQoNCmZ1bmN0aW9uIEdlbk1vZGVsUGFja2V0KGNoYW1wLCBza2luSWQpDQoJcCA9IENMb0xQYWNrZXQoMHg5NykNCglwOkVuY29kZUYobXlIZXJvLm5ldHdvcmtJRCkNCglwLnBvcyA9IDENCgl0MSA9IHA6RGVjb2RlMSgpDQoJdDIgPSBwOkRlY29kZTEoKQ0KCXQzID0gcDpEZWNvZGUxKCkNCgl0NCA9IHA6RGVjb2RlMSgpDQoJcDpFbmNvZGUxKHQxKQ0KCXA6RW5jb2RlMSh0MikNCglwOkVuY29kZTEodDMpDQoJcDpFbmNvZGUxKGJpdDMyLmJhbmQodDQsMHhCKSkNCglwOkVuY29kZTEoMSkNCglwOkVuY29kZTQoc2tpbklkKQ0KCWZvciBpID0gMSwgI2NoYW1wIGRvDQoJCXA6RW5jb2RlMShzdHJpbmcuYnl0ZShjaGFtcDpzdWIoaSxpKSkpDQoJZW5kDQoJZm9yIGkgPSAjY2hhbXAgKyAxLCA2NCBkbw0KCQlwOkVuY29kZTEoMCkNCgllbmQNCglwOkhpZGUoKQ0KCVJlY3ZQYWNrZXQocCkNCmVuZA0KDQpmdW5jdGlvbiBDaG9vc2VTa2luKCkNCglpZiBTZXR0aW5ncy5taXNjLnNraW5MaXN0IH49IGxhc3RTa2luIHRoZW4NCgkJbGFzdFNraW4gPSBTZXR0aW5ncy5taXNjLnNraW5MaXN0DQoJCUdlbk1vZGVsUGFja2V0KCJJcmVsaWEiLCBTZXR0aW5ncy5taXNjLnNraW5MaXN0KQ0KCWVuZA0KZW5kDQoNCmZ1bmN0aW9uIFRydWVSYW5nZSgpDQoJcmV0dXJuIG15SGVyby5yYW5nZSArIEdldERpc3RhbmNlKG15SGVybywgbXlIZXJvLm1pbkJCb3gpDQplbmQNCg0KZnVuY3Rpb24gRHJhd0NpcmNsZU5leHRMdmwoeCwgeSwgeiwgcmFkaXVzLCB3aWR0aCwgY29sb3IsIGNob3JkbGVuZ3RoKQ0KICByYWRpdXMgPSByYWRpdXMgb3IgMzAwDQogIHF1YWxpdHkgPSBtYXRoLm1heCg4LHJvdW5kKDE4MC9tYXRoLmRlZygobWF0aC5hc2luKChjaG9yZGxlbmd0aC8oMipyYWRpdXMpKSkpKSkpDQogIHF1YWxpdHkgPSAyICogbWF0aC5waSAvIHF1YWxpdHkNCiAgcmFkaXVzID0gcmFkaXVzKi45Mg0KICANCiAgbG9jYWwgcG9pbnRzID0ge30NCiAgZm9yIHRoZXRhID0gMCwgMiAqIG1hdGgucGkgKyBxdWFsaXR5LCBxdWFsaXR5IGRvDQogICAgbG9jYWwgYyA9IFdvcmxkVG9TY3JlZW4oRDNEWFZFQ1RPUjMoeCArIHJhZGl1cyAqIG1hdGguY29zKHRoZXRhKSwgeSwgeiAtIHJhZGl1cyAqIG1hdGguc2luKHRoZXRhKSkpDQogICAgcG9pbnRzWyNwb2ludHMgKyAxXSA9IEQzRFhWRUNUT1IyKGMueCwgYy55KQ0KICBlbmQNCiAgDQogIERyYXdMaW5lczIocG9pbnRzLCB3aWR0aCBvciAxLCBjb2xvciBvciA0Mjk0OTY3Mjk1KQ0KZW5kDQoNCmZ1bmN0aW9uIHJvdW5kKG51bSkgDQogIGlmIG51bSA+PSAwIHRoZW4gcmV0dXJuIG1hdGguZmxvb3IobnVtKy41KSBlbHNlIHJldHVybiBtYXRoLmNlaWwobnVtLS41KSBlbmQNCmVuZA0KDQpmdW5jdGlvbiBEcmF3Q2lyY2xlMih4LCB5LCB6LCByYWRpdXMsIGNvbG9yKQ0KICBsb2NhbCB2UG9zMSA9IFZlY3Rvcih4LCB5LCB6KQ0KICBsb2NhbCB2UG9zMiA9IFZlY3RvcihjYW1lcmFQb3MueCwgY2FtZXJhUG9zLnksIGNhbWVyYVBvcy56KQ0KICBsb2NhbCB0UG9zID0gdlBvczEgLSAodlBvczEgLSB2UG9zMik6bm9ybWFsaXplZCgpICogcmFkaXVzDQogIGxvY2FsIHNQb3MgPSBXb3JsZFRvU2NyZWVuKEQzRFhWRUNUT1IzKHRQb3MueCwgdFBvcy55LCB0UG9zLnopKQ0KICANCiAgaWYgT25TY3JlZW4oeyB4ID0gc1Bvcy54LCB5ID0gc1Bvcy55IH0sIHsgeCA9IHNQb3MueCwgeSA9IHNQb3MueSB9KSB0aGVuDQogICAgRHJhd0NpcmNsZU5leHRMdmwoeCwgeSwgeiwgcmFkaXVzLCBTZXR0aW5ncy5kcmF3aW5nLmxmYy5XaWR0aCwgY29sb3IsIFNldHRpbmdzLmRyYXdpbmcubGZjLkNMKSANCiAgZW5kDQplbmQNCg0KZnVuY3Rpb24gR2FtZW92ZXIoKQ0KCWlmIEdldEdhbWUoKS5pc092ZXIgdGhlbg0KCQlVcGRhdGVXZWIoZmFsc2UsIFNjcmlwdE5hbWUsIGlkLCBIV0lEKQ0KCQlzdGFydFVwID0gZmFsc2U7DQoJZW5kDQplbmQ="), nil, "bt", _ENV))()
